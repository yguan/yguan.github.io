/*  jQuery.print, version 1.0.3
 *  (c) Sathvik Ponangi, Doers' Guild
 * Licence: CC-By (http://creativecommons.org/licenses/by/3.0/)
 *--------------------------------------------------------------------------*/

(function(e){function t(t){var n=e("");try{n=e(t).clone()}catch(r){n=e("<span />").html(t)}return n}function n(e){return!!(typeof Node=="object"?e instanceof Node:e&&typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string")}e.print=e.fn.print=function(){var r,i,s=this;s instanceof e&&(s=s.get(0)),n(s)?(i=e(s),arguments.length>0&&(r=arguments[0])):arguments.length>0?(i=e(arguments[0]),n(i[0])?arguments.length>1&&(r=arguments[1]):(r=arguments[0],i=e("html"))):i=e("html");var o={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null};r=e.extend({},o,r||{});var u=e("");r.globalStyles?u=e("style, link, meta, title"):r.mediaPrint&&(u=e("link[media=print]")),r.stylesheet&&(u=e.merge(u,e('<link rel="stylesheet" href="'+r.stylesheet+'">')));var a=i.clone();a=e("<span/>").append(a),a.find(r.noPrintSelector).remove(),a.append(u.clone()),a.append(t(r.append)),a.prepend(t(r.prepend));var f=a.html();a.remove();var l,c;if(r.iframe)try{var h=e(r.iframe+""),p=h.length;p===0&&(h=e('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})),l=h.get(0),l=l.contentWindow||l.contentDocument||l,c=l.document||l.contentDocument||l,c.open(),c.write(f),c.close(),setTimeout(function(){l.focus(),l.print(),setTimeout(function(){p===0&&h.remove()},100)},250)}catch(d){console.error("Failed to print from iframe",d.stack,d.message),l=window.open(),l.document.write(f),l.document.close(),l.focus(),l.print(),l.close()}else l=window.open(),l.document.write(f),l.document.close(),l.focus(),l.print(),l.close();return this}})(jQuery);