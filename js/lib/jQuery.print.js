/*  jQuery.print, version 1.0.3
 *  (c) Sathvik Ponangi, Doers' Guild
 * Licence: CC-By (http://creativecommons.org/licenses/by/3.0/)
 *--------------------------------------------------------------------------*/

!function(e){"use strict";function t(t){var n=e("");try{n=e(t).clone()}catch(o){n=e("<span />").html(t)}return n}function n(e){return!!("object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}e.print=e.fn.print=function(){var o,r,i=this;i instanceof e&&(i=i.get(0)),n(i)?(r=e(i),arguments.length>0&&(o=arguments[0])):arguments.length>0?(r=e(arguments[0]),n(r[0])?arguments.length>1&&(o=arguments[1]):(o=arguments[0],r=e("html"))):r=e("html");var l={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null};o=e.extend({},l,o||{});var c=e("");o.globalStyles?c=e("style, link, meta, title"):o.mediaPrint&&(c=e("link[media=print]")),o.stylesheet&&(c=e.merge(c,e('<link rel="stylesheet" href="'+o.stylesheet+'">')));var p=r.clone();p=e("<span/>").append(p),p.find(o.noPrintSelector).remove(),p.append(c.clone()),p.append(t(o.append)),p.prepend(t(o.prepend));var s=p.html();p.remove();var a,d;if(o.iframe)try{var m=e(o.iframe+""),u=m.length;0===u&&(m=e('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})),a=m.get(0),a=a.contentWindow||a.contentDocument||a,d=a.document||a.contentDocument||a,d.open(),d.write(s),d.close(),setTimeout(function(){a.focus(),a.print(),setTimeout(function(){0===u&&m.remove()},100)},250)}catch(e){console.error("Failed to print from iframe",e.stack,e.message),a=window.open(),a.document.write(s),a.document.close(),a.focus(),a.print(),a.close()}else a=window.open(),a.document.write(s),a.document.close(),a.focus(),a.print(),a.close();return this}}(jQuery);