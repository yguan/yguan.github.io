define("data/president-data",["require","exports","module"],function(require,exports){var data=[{number:1,president:"George Washington",birth_year:1732,death_year:1799,took_office:"1789-04-30",left_office:"1797-03-04",party:"No Party"},{number:2,president:"John Adams",birth_year:1735,death_year:1826,took_office:"1797-03-04",left_office:"1801-03-04",party:"Federalist"},{number:3,president:"Thomas Jefferson",birth_year:1743,death_year:1826,took_office:"1801-03-04",left_office:"1809-03-04",party:"Democratic-Republican"},{number:4,president:"James Madison",birth_year:1751,death_year:1836,took_office:"1809-03-04",left_office:"1817-03-04",party:"Democratic-Republican"},{number:5,president:"James Monroe",birth_year:1758,death_year:1831,took_office:"1817-03-04",left_office:"1825-03-04",party:"Democratic-Republican"},{number:6,president:"John Quincy Adams",birth_year:1767,death_year:1848,took_office:"1825-03-04",left_office:"1829-03-04",party:"Democratic-Republican"},{number:7,president:"Andrew Jackson",birth_year:1767,death_year:1845,took_office:"1829-03-04",left_office:"1837-03-04",party:"Democratic"},{number:8,president:"Martin Van Buren",birth_year:1782,death_year:1862,took_office:"1837-03-04",left_office:"1841-03-04",party:"Democratic"},{number:9,president:"William Henry Harrison",birth_year:1773,death_year:1841,took_office:"1841-03-04",left_office:"1841-04-04",party:"Whig"},{number:10,president:"John Tyler",birth_year:1790,death_year:1862,took_office:"1841-04-04",left_office:"1845-03-04",party:"Whig"},{number:11,president:"James K. Polk",birth_year:1795,death_year:1849,took_office:"1845-03-04",left_office:"1849-03-04",party:"Democratic"},{number:12,president:"Zachary Taylor",birth_year:1784,death_year:1850,took_office:"1849-03-04",left_office:"1850-07-09",party:"Whig"},{number:13,president:"Millard Fillmore",birth_year:1800,death_year:1874,took_office:"1850-07-09",left_office:"1853-03-04",party:"Whig"},{number:14,president:"Franklin Pierce",birth_year:1804,death_year:1869,took_office:"1853-03-04",left_office:"1857-03-04",party:"Democratic"},{number:15,president:"James Buchanan",birth_year:1791,death_year:1868,took_office:"1857-03-04",left_office:"1861-03-04",party:"Democratic"},{number:16,president:"Abraham Lincoln",birth_year:1809,death_year:1865,took_office:"1861-03-04",left_office:"1865-04-15",party:"Republican"},{number:17,president:"Andrew Johnson",birth_year:1808,death_year:1875,took_office:"1865-04-15",left_office:"1869-03-04",party:"Democratic"},{number:18,president:"Ulysses S. Grant",birth_year:1822,death_year:1885,took_office:"1869-03-04",left_office:"1877-03-04",party:"Republican"},{number:19,president:"Rutherford B. Hayes",birth_year:1822,death_year:1893,took_office:"1877-03-04",left_office:"1881-03-04",party:"Republican"},{number:20,president:"James A. Garfield",birth_year:1831,death_year:1881,took_office:"1881-03-04",left_office:"1881-09-19",party:"Republican"},{number:21,president:"Chester A. Arthur",birth_year:1829,death_year:1886,took_office:"1881-09-19",left_office:"1885-03-04",party:"Republican"},{number:22,president:"Grover Cleveland",birth_year:1837,death_year:1908,took_office:"1885-03-04",left_office:"1889-03-04",party:"Democratic"},{number:23,president:"Benjamin Harrison",birth_year:1833,death_year:1901,took_office:"1889-03-04",left_office:"1893-03-04",party:"Republican"},{number:24,president:"Grover Cleveland",birth_year:1837,death_year:1908,took_office:"1893-03-04",left_office:"1897-03-04",party:"Democratic"},{number:25,president:"William McKinley",birth_year:1843,death_year:1901,took_office:"1897-03-04",left_office:"1901-09-14",party:"Republican"},{number:26,president:"Theodore Roosevelt",birth_year:1858,death_year:1919,took_office:"1901-09-14",left_office:"1909-03-04",party:"Republican"},{number:27,president:"William Howard Taft",birth_year:1857,death_year:1930,took_office:"1909-03-04",left_office:"1913-03-04",party:"Republican"},{number:28,president:"Woodrow Wilson",birth_year:1856,death_year:1924,took_office:"1913-03-04",left_office:"1921-03-04",party:"Democratic"},{number:29,president:"Warren G. Harding",birth_year:1865,death_year:1923,took_office:"1921-03-04",left_office:"1923-08-02",party:"Republican"},{number:30,president:"Calvin Coolidge",birth_year:1872,death_year:1933,took_office:"1923-08-02",left_office:"1929-03-04",party:"Republican"},{number:31,president:"Herbert Hoover",birth_year:1874,death_year:1964,took_office:"1929-03-04",left_office:"1933-03-04",party:"Republican"},{number:32,president:"Franklin D. Roosevelt",birth_year:1882,death_year:1945,took_office:"1933-03-04",left_office:"1945-04-12",party:"Democratic"},{number:33,president:"Harry S. Truman",birth_year:1884,death_year:1972,took_office:"1945-04-12",left_office:"1953-01-20",party:"Democratic"},{number:34,president:"Dwight D. Eisenhower",birth_year:1890,death_year:1969,took_office:"1953-01-20",left_office:"1961-01-20",party:"Republican"},{number:35,president:"John F. Kennedy",birth_year:1917,death_year:1963,took_office:"1961-01-20",left_office:"1963-11-22",party:"Democratic"},{number:36,president:"Lyndon B. Johnson",birth_year:1908,death_year:1973,took_office:"1963-11-22",left_office:"1969-01-20",party:"Democratic"},{number:37,president:"Richard Nixon",birth_year:1913,death_year:1994,took_office:"1969-01-20",left_office:"1974-08-09",party:"Republican"},{number:38,president:"Gerald Ford",birth_year:1913,death_year:2006,took_office:"1974-08-09",left_office:"1977-01-20",party:"Republican"},{number:39,president:"Jimmy Carter",birth_year:1924,death_year:null,took_office:"1977-01-20",left_office:"1981-01-20",party:"Democratic"},{number:40,president:"Ronald Reagan",birth_year:1911,death_year:2004,took_office:"1981-01-20",left_office:"1989-01-20",party:"Republican"},{number:41,president:"George H. W. Bush",birth_year:1924,death_year:null,took_office:"1989-01-20",left_office:"1993-01-20",party:"Republican"},{number:42,president:"Bill Clinton",birth_year:1946,death_year:null,took_office:"1993-01-20",left_office:"2001-01-20",party:"Democratic"},{number:43,president:"George W. Bush",birth_year:1946,death_year:null,took_office:"2001-01-20",left_office:"2009-01-20",party:"Republican"},{number:44,president:"Barack Obama",birth_year:1961,death_year:null,took_office:"2009-01-20",left_office:"2013-01-20",party:"Democratic"},{number:45,president:"Barack Obama",birth_year:1961,death_year:null,took_office:"2013-01-20",left_office:null,party:"Democratic"}];exports.data=data}),define("data/president-summary",["require","exports","module"],function(require,exports){function getSummaries(data){var record,ymdFormat=d3.time.format("%Y-%m-%d"),summaries=[],lookupIndex={},currentYear=(new Date).getFullYear();return _.each(data,function(p){lookupIndex.hasOwnProperty(p.president)?summaries[lookupIndex[p.president]].left_office=p.left_office?ymdFormat.parse(p.left_office).getFullYear():(new Date).getFullYear():(record={name:p.president,birth_year:p.birth_year,death_year:p.death_year,party:p.party,age:p.death_year?p.death_year-p.birth_year:currentYear-p.birth_year,firstTookOffice:ymdFormat.parse(p.took_office).getFullYear(),left_office:p.left_office?ymdFormat.parse(p.left_office).getFullYear():null},record.ageAtBeingPresident=record.firstTookOffice-record.birth_year,summaries.push(record),lookupIndex[p.president]=summaries.length-1)}),summaries}exports.getSummaries=getSummaries}),define("data/president-dw",["exports","data/president-data","data/president-summary"],function(exports,presidentData,presidentSummary){function processData(data){var cf,byParty,byBirthYear;return cf=crossfilter(data),byParty=cf.dimension(function(p){return p.party}),byBirthYear=cf.dimension(function(p){return p.birth_year}),{byParty:byParty,byBirthYear:byBirthYear}}function filterByBeforeBirthYear(year){dimensions.byBirthYear.filter(function(d){return year>d}),parties.trigger("change"),presidents.trigger("change")}function loadData(){dimensions=processData(presidentSummaries),parties=dimensions.byParty.group().top(1/0),presidents=dimensions.byBirthYear,MicroEvent.mixin(parties),MicroEvent.mixin(presidents),filterByBeforeBirthYear(1962)}var dimensions,parties,presidents,presidentSummaries=presidentSummary.getSummaries(presidentData.data);loadData(),exports.parties=parties,exports.presidents=presidents,exports.filterByBeforeBirthYear=filterByBeforeBirthYear}),define("chart/president-party-count",["require","exports","module"],function(require,exports){function render(container,parties){var countAxis,partyAxis,svg=dimple.newSvg(container,600,190),chart=new dimple.chart(svg,parties);chart.setBounds(142,0,370,140),countAxis=chart.addMeasureAxis("x","value"),partyAxis=chart.addCategoryAxis("y","key"),countAxis.overrideMin=0,countAxis.overrideMax=19,chart.addSeries("key",dimple.plot.bar,[countAxis,partyAxis]),chart.draw(),countAxis.titleShape.remove(),parties.bind("change",function(){chart.data=parties,chart.draw(),countAxis.titleShape.remove()})}exports.render=render}),define("chart/president-age",["require","exports","module"],function(require,exports){function setBounds(chart,heightBound){chart.setBounds(137,10,400,heightBound)}function render(container,presidents){var ageAxis,nameAxis,svg=dimple.newSvg(container,700,700),chart=new dimple.chart(svg,presidents.top(1/0)),barWidth=14,maxBars=43,maxHeightBound=barWidth*maxBars;setBounds(chart,maxHeightBound),ageAxis=chart.addMeasureAxis("x","age"),nameAxis=chart.addCategoryAxis("y","name"),ageAxis.overrideMin=0,ageAxis.overrideMax=100,chart.addSeries("name",dimple.plot.bar,[ageAxis,nameAxis]),chart.draw(),nameAxis.titleShape.remove(),presidents.bind("change",function(){chart.data=presidents.top(1/0),setBounds(chart,chart.data.length*barWidth),chart.draw(),nameAxis.titleShape.remove()})}exports.render=render}),define("chart/president-age-at-office",["require","exports","module"],function(require,exports){function setBounds(chart,heightBound){chart.setBounds(145,20,1350,heightBound)}function render(container,presidents){var firstTookOfficeAxis,nameAxis,ageAtBeingPresidentAxis,series,svg=dimple.newSvg(container,1500,700),chart=new dimple.chart(svg,presidents.top(1/0)),barWidth=14,maxBars=44,maxHeightBound=barWidth*maxBars;setBounds(chart,maxHeightBound),firstTookOfficeAxis=chart.addMeasureAxis("x","firstTookOffice"),firstTookOfficeAxis.tickFormat="g",firstTookOfficeAxis.overrideMin=1788,firstTookOfficeAxis.overrideMax=2014,nameAxis=chart.addCategoryAxis("y","name"),ageAtBeingPresidentAxis=chart.addMeasureAxis("z","ageAtBeingPresident"),ageAtBeingPresidentAxis.overrideMin=10,ageAtBeingPresidentAxis.overrideMax=140,series=chart.addSeries("name",dimple.plot.bubble,[firstTookOfficeAxis,nameAxis,ageAtBeingPresidentAxis]),chart.draw(),presidents.bind("change",function(){chart.data=presidents.top(1/0),chart.draw()})}exports.render=render}),define("lib/text",["module"],function(module){var text,fs,Cc,Ci,xpcIsWindows,progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],xmlRegExp=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,bodyRegExp=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,hasLocation="undefined"!=typeof location&&location.href,defaultProtocol=hasLocation&&location.protocol&&location.protocol.replace(/\:/,""),defaultHostName=hasLocation&&location.hostname,defaultPort=hasLocation&&(location.port||void 0),buildMap={},masterConfig=module.config&&module.config()||{};return text={version:"2.0.10",strip:function(content){if(content){content=content.replace(xmlRegExp,"");var matches=content.match(bodyRegExp);matches&&(content=matches[1])}else content="";return content},jsEscape:function(content){return content.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:masterConfig.createXhr||function(){var xhr,i,progId;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(i=0;3>i;i+=1){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}return xhr},parseName:function(name){var modName,ext,temp,strip=!1,index=name.indexOf("."),isRelative=0===name.indexOf("./")||0===name.indexOf("../");return-1!==index&&(!isRelative||index>1)?(modName=name.substring(0,index),ext=name.substring(index+1,name.length)):modName=name,temp=ext||modName,index=temp.indexOf("!"),-1!==index&&(strip="strip"===temp.substring(index+1),temp=temp.substring(0,index),ext?ext=temp:modName=temp),{moduleName:modName,ext:ext,strip:strip}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(url,protocol,hostname,port){var uProtocol,uHostName,uPort,match=text.xdRegExp.exec(url);return match?(uProtocol=match[2],uHostName=match[3],uHostName=uHostName.split(":"),uPort=uHostName[1],uHostName=uHostName[0],!(uProtocol&&uProtocol!==protocol||uHostName&&uHostName.toLowerCase()!==hostname.toLowerCase()||(uPort||uHostName)&&uPort!==port)):!0},finishLoad:function(name,strip,content,onLoad){content=strip?text.strip(content):content,masterConfig.isBuild&&(buildMap[name]=content),onLoad(content)},load:function(name,req,onLoad,config){if(config.isBuild&&!config.inlineText)return onLoad(),void 0;masterConfig.isBuild=config.isBuild;var parsed=text.parseName(name),nonStripName=parsed.moduleName+(parsed.ext?"."+parsed.ext:""),url=req.toUrl(nonStripName),useXhr=masterConfig.useXhr||text.useXhr;return 0===url.indexOf("empty:")?(onLoad(),void 0):(!hasLocation||useXhr(url,defaultProtocol,defaultHostName,defaultPort)?text.get(url,function(content){text.finishLoad(name,parsed.strip,content,onLoad)},function(err){onLoad.error&&onLoad.error(err)}):req([nonStripName],function(content){text.finishLoad(parsed.moduleName+"."+parsed.ext,parsed.strip,content,onLoad)}),void 0)},write:function(pluginName,moduleName,write){if(buildMap.hasOwnProperty(moduleName)){var content=text.jsEscape(buildMap[moduleName]);write.asModule(pluginName+"!"+moduleName,"define(function () { return '"+content+"';});\n")}},writeFile:function(pluginName,moduleName,req,write,config){var parsed=text.parseName(moduleName),extPart=parsed.ext?"."+parsed.ext:"",nonStripName=parsed.moduleName+extPart,fileName=req.toUrl(parsed.moduleName+extPart)+".js";text.load(nonStripName,req,function(){var textWrite=function(contents){return write(fileName,contents)};textWrite.asModule=function(moduleName,contents){return write.asModule(moduleName,fileName,contents)},text.write(pluginName,nonStripName,textWrite,config)},config)}},"node"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(fs=require.nodeRequire("fs"),text.get=function(url,callback,errback){try{var file=fs.readFileSync(url,"utf8");0===file.indexOf("ï»¿")&&(file=file.substring(1)),callback(file)}catch(e){errback(e)}}):"xhr"===masterConfig.env||!masterConfig.env&&text.createXhr()?text.get=function(url,callback,errback,headers){var header,xhr=text.createXhr();if(xhr.open("GET",url,!0),headers)for(header in headers)headers.hasOwnProperty(header)&&xhr.setRequestHeader(header.toLowerCase(),headers[header]);masterConfig.onXhr&&masterConfig.onXhr(xhr,url),xhr.onreadystatechange=function(){var status,err;4===xhr.readyState&&(status=xhr.status,status>399&&600>status?(err=new Error(url+" HTTP status: "+status),err.xhr=xhr,errback(err)):callback(xhr.responseText),masterConfig.onXhrComplete&&masterConfig.onXhrComplete(xhr,url))},xhr.send(null)}:"rhino"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?text.get=function(url,callback){var stringBuffer,line,encoding="utf-8",file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),content="";try{for(stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&65279===line.charAt(0)&&(line=line.substring(1)),null!==line&&stringBuffer.append(line);null!==(line=input.readLine());)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}callback(content)}:("xpconnect"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(Cc=Components.classes,Ci=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),xpcIsWindows="@mozilla.org/windows-registry-key;1"in Cc,text.get=function(url,callback){var inStream,convertStream,fileObj,readData={};xpcIsWindows&&(url=url.replace(/\//g,"\\")),fileObj=new FileUtils.File(url);try{inStream=Cc["@mozilla.org/network/file-input-stream;1"].createInstance(Ci.nsIFileInputStream),inStream.init(fileObj,1,0,!1),convertStream=Cc["@mozilla.org/intl/converter-input-stream;1"].createInstance(Ci.nsIConverterInputStream),convertStream.init(inStream,"utf-8",inStream.available(),Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),convertStream.readString(inStream.available(),readData),convertStream.close(),inStream.close(),callback(readData.value)}catch(e){throw new Error((fileObj&&fileObj.path||"")+": "+e)}}),text}),define("lib/text!template/presidents.tpl",[],function(){return'<div class="president">\r\n    <div class="panel">\r\n        <div class="chart">\r\n            <label>Number of Presidents in Parties</label>\r\n            <div id="party-count-chart"></div>\r\n        </div>\r\n        <div class="year-slider">\r\n            <div class="label label-info">Drag the slider to see the changes</div>\r\n            <input id="slider" type="range" style="width:100%" min="1733" value="1962" max="1962" />\r\n            <div>Presidents born before: <span id="start-year">1962</span></div>\r\n        </div>\r\n    </div>\r\n    <div class="panel">\r\n        <label>Presidents\' Ages</label>\r\n        <div id="age-chart"></div>\r\n    </div>\r\n    <div class="chart">\r\n        <label>Presidents\' Ages at First Took Office</label>\r\n        <div id="age-at-office-chart"></div>\r\n    </div>\r\n</div>'}),define("view/presidents",["require","exports","module","data/president-dw","chart/president-party-count","chart/president-age","chart/president-age-at-office","lib/text!template/presidents.tpl"],function(require,exports){function render(){$("#viewport").append(presidentViewTpl),partyCountChart.render("#party-count-chart",presidentDW.parties),ageChart.render("#age-chart",presidentDW.presidents),ageAtOfficeChart.render("#age-at-office-chart",presidentDW.presidents),$("#slider").change(function(){var year=$(this).val();$("#start-year").text(year),presidentDW.filterByBeforeBirthYear(year)})}var presidentDW=require("data/president-dw"),partyCountChart=require("chart/president-party-count"),ageChart=require("chart/president-age"),ageAtOfficeChart=require("chart/president-age-at-office"),presidentViewTpl=require("lib/text!template/presidents.tpl");exports.render=render}),define("view/all-views",["require","exports","module","view/presidents"],function(require,exports){var presidentsView=require("view/presidents");exports.render=function(){presidentsView.render()}}),require.config({baseUrl:"js",paths:{data:"./data",lib:"./lib",view:"./view",chart:"./chart",template:"./template",extension:"./extension"}}),require(["view/all-views"],function(views){views.render()}),define("app",function(){});