define(["require","exports","module"],function(e,t,n){function r(e,t,n,r){return{"class":e,x:function(e,t){return n.x+r(t)},y:function(e){return n.y-r(e)},width:t,height:function(e){return r(e)}}}function i(e,t,n,r,i){return{"class":e,"text-anchor":"middle",x:function(e,r){return n.x+i(r)+t},y:r}}function s(e,t){var n=t.transitionDuration||300,r=e.chartOrigin,i=t.xScale,s=t.getValueFn;e.bars.data(t.data).transition().duration(n).attr({height:function(e){return i(e)},y:function(e){return r.y-i(e)}}),e.labels.data(t.data).transition().duration(n).text(function(e){return s(e)})}function o(e,t,n){var r=t.transitionDuration||300,i=e.chartOrigin,s=t.xScale,o=s.rangeBand(),u=o/2,a=function(e,t){return n.asc?d3.ascending(e,t):d3.descending(e,t)};e.bars.sort(a).transition().duration(r).attr("x",function(e,t){return i.x+s(t)}),e.labels.sort(a).transition().duration(r).attr("x",function(e,t){return i.x+s(t)+u})}t.create=function(e){var t={x:e.x||0,y:e.y||e.height},n=e.xScale,u=e.labelBottomPadding||0,a=n.rangeBand(),f=a/2,l=t.y-u,c,h;return c=e.svg.selectAll("rect").data(e.data),c.enter().append("rect").attr(r(e.barCls,a,t,n)),h=e.svg.selectAll("text").data(e.data),h.enter().append("text").text(function(t){return e.getValueFn(t)}).attr(i(e.labelCls,f,t,l,e.xScale)),{bars:c,labels:h,chartOrigin:t,config:e,update:function(e){s(this,e)},sort:function(t){o(this,e,t)}}}});