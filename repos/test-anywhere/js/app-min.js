/*
 RequireJS 2.1.9 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/
var requirejs,require,define;
(function(Z){function H(b){return"[object Function]"===L.call(b)}function I(b){return"[object Array]"===L.call(b)}function y(b,c){if(b){var e;for(e=0;e<b.length&&(!b[e]||!c(b[e],e,b));e+=1);}}function M(b,c){if(b){var e;for(e=b.length-1;-1<e&&(!b[e]||!c(b[e],e,b));e-=1);}}function t(b,c){return ga.call(b,c)}function l(b,c){return t(b,c)&&b[c]}function F(b,c){for(var e in b)if(t(b,e)&&c(b[e],e))break}function Q(b,c,e,h){c&&F(c,function(c,j){if(e||!t(b,j))h&&"string"!==typeof c?(b[j]||(b[j]={}),Q(b[j],
c,e,h)):b[j]=c});return b}function u(b,c){return function(){return c.apply(b,arguments)}}function aa(b){throw b;}function ba(b){if(!b)return b;var c=Z;y(b.split("."),function(b){c=c[b]});return c}function A(b,c,e,h){c=Error(c+"\nhttp://requirejs.org/docs/errors.html#"+b);c.requireType=b;c.requireModules=h;e&&(c.originalError=e);return c}function ha(b){function c(a,f,b){var d,m,c,g,e,h,j,i=f&&f.split("/");d=i;var n=k.map,p=n&&n["*"];if(a&&"."===a.charAt(0))if(f){d=l(k.pkgs,f)?i=[f]:i.slice(0,i.length-
1);f=a=d.concat(a.split("/"));for(d=0;f[d];d+=1)if(m=f[d],"."===m)f.splice(d,1),d-=1;else if(".."===m)if(1===d&&(".."===f[2]||".."===f[0]))break;else 0<d&&(f.splice(d-1,2),d-=2);d=l(k.pkgs,f=a[0]);a=a.join("/");d&&a===f+"/"+d.main&&(a=f)}else 0===a.indexOf("./")&&(a=a.substring(2));if(b&&n&&(i||p)){f=a.split("/");for(d=f.length;0<d;d-=1){c=f.slice(0,d).join("/");if(i)for(m=i.length;0<m;m-=1)if(b=l(n,i.slice(0,m).join("/")))if(b=l(b,c)){g=b;e=d;break}if(g)break;!h&&(p&&l(p,c))&&(h=l(p,c),j=d)}!g&&
h&&(g=h,e=j);g&&(f.splice(0,e,g),a=f.join("/"))}return a}function e(a){z&&y(document.getElementsByTagName("script"),function(f){if(f.getAttribute("data-requiremodule")===a&&f.getAttribute("data-requirecontext")===i.contextName)return f.parentNode.removeChild(f),!0})}function h(a){var f=l(k.paths,a);if(f&&I(f)&&1<f.length)return f.shift(),i.require.undef(a),i.require([a]),!0}function $(a){var f,b=a?a.indexOf("!"):-1;-1<b&&(f=a.substring(0,b),a=a.substring(b+1,a.length));return[f,a]}function n(a,f,
b,d){var m,B,g=null,e=f?f.name:null,h=a,j=!0,k="";a||(j=!1,a="_@r"+(L+=1));a=$(a);g=a[0];a=a[1];g&&(g=c(g,e,d),B=l(r,g));a&&(g?k=B&&B.normalize?B.normalize(a,function(a){return c(a,e,d)}):c(a,e,d):(k=c(a,e,d),a=$(k),g=a[0],k=a[1],b=!0,m=i.nameToUrl(k)));b=g&&!B&&!b?"_unnormalized"+(M+=1):"";return{prefix:g,name:k,parentMap:f,unnormalized:!!b,url:m,originalName:h,isDefine:j,id:(g?g+"!"+k:k)+b}}function q(a){var f=a.id,b=l(p,f);b||(b=p[f]=new i.Module(a));return b}function s(a,f,b){var d=a.id,m=l(p,
d);if(t(r,d)&&(!m||m.defineEmitComplete))"defined"===f&&b(r[d]);else if(m=q(a),m.error&&"error"===f)b(m.error);else m.on(f,b)}function v(a,f){var b=a.requireModules,d=!1;if(f)f(a);else if(y(b,function(f){if(f=l(p,f))f.error=a,f.events.error&&(d=!0,f.emit("error",a))}),!d)j.onError(a)}function w(){R.length&&(ia.apply(G,[G.length-1,0].concat(R)),R=[])}function x(a){delete p[a];delete T[a]}function E(a,f,b){var d=a.map.id;a.error?a.emit("error",a.error):(f[d]=!0,y(a.depMaps,function(d,c){var g=d.id,
e=l(p,g);e&&(!a.depMatched[c]&&!b[g])&&(l(f,g)?(a.defineDep(c,r[g]),a.check()):E(e,f,b))}),b[d]=!0)}function C(){var a,f,b,d,m=(b=1E3*k.waitSeconds)&&i.startTime+b<(new Date).getTime(),c=[],g=[],j=!1,l=!0;if(!U){U=!0;F(T,function(b){a=b.map;f=a.id;if(b.enabled&&(a.isDefine||g.push(b),!b.error))if(!b.inited&&m)h(f)?j=d=!0:(c.push(f),e(f));else if(!b.inited&&(b.fetched&&a.isDefine)&&(j=!0,!a.prefix))return l=!1});if(m&&c.length)return b=A("timeout","Load timeout for modules: "+c,null,c),b.contextName=
i.contextName,v(b);l&&y(g,function(a){E(a,{},{})});if((!m||d)&&j)if((z||da)&&!V)V=setTimeout(function(){V=0;C()},50);U=!1}}function D(a){t(r,a[0])||q(n(a[0],null,!0)).init(a[1],a[2])}function J(a){var a=a.currentTarget||a.srcElement,b=i.onScriptLoad;a.detachEvent&&!W?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=i.onScriptError;(!a.detachEvent||W)&&a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function K(){var a;for(w();G.length;){a=
G.shift();if(null===a[0])return v(A("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));D(a)}}var U,X,i,N,V,k={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},p={},T={},Y={},G=[],r={},S={},L=1,M=1;N={require:function(a){return a.require?a.require:a.require=i.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?a.exports:a.exports=r[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){var b=
l(k.pkgs,a.map.id);return(b?l(k.config,a.map.id+"/"+b.main):l(k.config,a.map.id))||{}},exports:r[a.map.id]}}};X=function(a){this.events=l(Y,a.id)||{};this.map=a;this.shim=l(k.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};X.prototype={init:function(a,b,c,d){d=d||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=u(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;
this.ignore=d.ignore;d.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;i.startTime=(new Date).getTime();var a=this.map;if(this.shim)i.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=
this.map.url;S[a]||(S[a]=!0,i.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var d=this.exports,m=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(H(m)){if(this.events.error&&this.map.isDefine||j.onError!==aa)try{d=i.execCb(c,m,b,d)}catch(e){a=e}else d=i.execCb(c,m,b,d);this.map.isDefine&&((b=this.module)&&void 0!==b.exports&&b.exports!==
this.exports?d=b.exports:void 0===d&&this.usingExports&&(d=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",v(this.error=a)}else d=m;this.exports=d;if(this.map.isDefine&&!this.ignore&&(r[c]=d,j.onResourceLoad))j.onResourceLoad(i,this.map,this.depMaps);x(c);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=
!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,e=n(a.prefix);this.depMaps.push(e);s(e,"defined",u(this,function(d){var m,e;e=this.map.name;var g=this.map.parentMap?this.map.parentMap.name:null,h=i.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(d.normalize&&(e=d.normalize(e,function(a){return c(a,g,!0)})||""),d=n(a.prefix+"!"+e,this.map.parentMap),s(d,"defined",u(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),
e=l(p,d.id)){this.depMaps.push(d);if(this.events.error)e.on("error",u(this,function(a){this.emit("error",a)}));e.enable()}}else m=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),m.error=u(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];F(p,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&x(a.map.id)});v(a)}),m.fromText=u(this,function(d,c){var e=a.name,g=n(e),B=O;c&&(d=c);B&&(O=!1);q(g);t(k.config,b)&&(k.config[e]=k.config[b]);try{j.exec(d)}catch(ca){return v(A("fromtexteval",
"fromText eval for "+b+" failed: "+ca,ca,[b]))}B&&(O=!0);this.depMaps.push(g);i.completeLoad(e);h([e],m)}),d.load(a.name,h,m,k)}));i.enable(e,this);this.pluginMaps[e.id]=e},enable:function(){T[this.map.id]=this;this.enabling=this.enabled=!0;y(this.depMaps,u(this,function(a,b){var c,d;if("string"===typeof a){a=n(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=l(N,a.id)){this.depExports[b]=c(this);return}this.depCount+=1;s(a,"defined",u(this,function(a){this.defineDep(b,
a);this.check()}));this.errback&&s(a,"error",u(this,this.errback))}c=a.id;d=p[c];!t(N,c)&&(d&&!d.enabled)&&i.enable(a,this)}));F(this.pluginMaps,u(this,function(a){var b=l(p,a.id);b&&!b.enabled&&i.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){y(this.events[a],function(a){a(b)});"error"===a&&delete this.events[a]}};i={config:k,contextName:b,registry:p,defined:r,urlFetched:S,defQueue:G,Module:X,makeModuleMap:n,
nextTick:j.nextTick,onError:v,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=k.pkgs,c=k.shim,d={paths:!0,config:!0,map:!0};F(a,function(a,b){d[b]?"map"===b?(k.map||(k.map={}),Q(k[b],a,!0,!0)):Q(k[b],a,!0):k[b]=a});a.shim&&(F(a.shim,function(a,b){I(a)&&(a={deps:a});if((a.exports||a.init)&&!a.exportsFn)a.exportsFn=i.makeShimExports(a);c[b]=a}),k.shim=c);a.packages&&(y(a.packages,function(a){a="string"===typeof a?{name:a}:a;b[a.name]={name:a.name,
location:a.location||a.name,main:(a.main||"main").replace(ja,"").replace(ea,"")}}),k.pkgs=b);F(p,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=n(b))});if(a.deps||a.callback)i.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;a.init&&(b=a.init.apply(Z,arguments));return b||a.exports&&ba(a.exports)}},makeRequire:function(a,f){function h(d,c,e){var g,k;f.enableBuildCallback&&(c&&H(c))&&(c.__requireJsBuild=!0);if("string"===typeof d){if(H(c))return v(A("requireargs",
"Invalid require call"),e);if(a&&t(N,d))return N[d](p[a.id]);if(j.get)return j.get(i,d,a,h);g=n(d,a,!1,!0);g=g.id;return!t(r,g)?v(A("notloaded",'Module name "'+g+'" has not been loaded yet for context: '+b+(a?"":". Use require([])"))):r[g]}K();i.nextTick(function(){K();k=q(n(null,a));k.skipMap=f.skipMap;k.init(d,c,e,{enabled:!0});C()});return h}f=f||{};Q(h,{isBrowser:z,toUrl:function(b){var f,e=b.lastIndexOf("."),g=b.split("/")[0];if(-1!==e&&(!("."===g||".."===g)||1<e))f=b.substring(e,b.length),b=
b.substring(0,e);return i.nameToUrl(c(b,a&&a.id,!0),f,!0)},defined:function(b){return t(r,n(b,a,!1,!0).id)},specified:function(b){b=n(b,a,!1,!0).id;return t(r,b)||t(p,b)}});a||(h.undef=function(b){w();var c=n(b,a,!0),f=l(p,b);e(b);delete r[b];delete S[c.url];delete Y[b];f&&(f.events.defined&&(Y[b]=f.events),x(b))});return h},enable:function(a){l(p,a.id)&&q(a).enable()},completeLoad:function(a){var b,c,d=l(k.shim,a)||{},e=d.exports;for(w();G.length;){c=G.shift();if(null===c[0]){c[0]=a;if(b)break;b=
!0}else c[0]===a&&(b=!0);D(c)}c=l(p,a);if(!b&&!t(r,a)&&c&&!c.inited){if(k.enforceDefine&&(!e||!ba(e)))return h(a)?void 0:v(A("nodefine","No define call for "+a,null,[a]));D([a,d.deps||[],d.exportsFn])}C()},nameToUrl:function(a,b,c){var d,e,h,g,i,n;if(j.jsExtRegExp.test(a))g=a+(b||"");else{d=k.paths;e=k.pkgs;g=a.split("/");for(i=g.length;0<i;i-=1)if(n=g.slice(0,i).join("/"),h=l(e,n),n=l(d,n)){I(n)&&(n=n[0]);g.splice(0,i,n);break}else if(h){a=a===h.name?h.location+"/"+h.main:h.location;g.splice(0,i,
a);break}g=g.join("/");g+=b||(/^data\:|\?/.test(g)||c?"":".js");g=("/"===g.charAt(0)||g.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+g}return k.urlArgs?g+((-1===g.indexOf("?")?"?":"&")+k.urlArgs):g},load:function(a,b){j.load(i,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||ka.test((a.currentTarget||a.srcElement).readyState))P=null,a=J(a),i.completeLoad(a.id)},onScriptError:function(a){var b=J(a);if(!h(b.id))return v(A("scripterror","Script error for: "+b.id,
a,[b.id]))}};i.require=i.makeRequire();return i}var j,w,x,C,J,D,P,K,q,fa,la=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,ma=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ea=/\.js$/,ja=/^\.\//;w=Object.prototype;var L=w.toString,ga=w.hasOwnProperty,ia=Array.prototype.splice,z=!!("undefined"!==typeof window&&"undefined"!==typeof navigator&&window.document),da=!z&&"undefined"!==typeof importScripts,ka=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,W="undefined"!==typeof opera&&
"[object Opera]"===opera.toString(),E={},s={},R=[],O=!1;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(H(requirejs))return;s=requirejs;requirejs=void 0}"undefined"!==typeof require&&!H(require)&&(s=require,require=void 0);j=requirejs=function(b,c,e,h){var q,n="_";!I(b)&&"string"!==typeof b&&(q=b,I(c)?(b=c,c=e,e=h):b=[]);q&&q.context&&(n=q.context);(h=l(E,n))||(h=E[n]=j.s.newContext(n));q&&h.configure(q);return h.require(b,c,e)};j.config=function(b){return j(b)};j.nextTick="undefined"!==
typeof setTimeout?function(b){setTimeout(b,4)}:function(b){b()};require||(require=j);j.version="2.1.9";j.jsExtRegExp=/^\/|:|\?|\.js$/;j.isBrowser=z;w=j.s={contexts:E,newContext:ha};j({});y(["toUrl","undef","defined","specified"],function(b){j[b]=function(){var c=E._;return c.require[b].apply(c,arguments)}});if(z&&(x=w.head=document.getElementsByTagName("head")[0],C=document.getElementsByTagName("base")[0]))x=w.head=C.parentNode;j.onError=aa;j.createNode=function(b){var c=b.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml",
"html:script"):document.createElement("script");c.type=b.scriptType||"text/javascript";c.charset="utf-8";c.async=!0;return c};j.load=function(b,c,e){var h=b&&b.config||{};if(z)return h=j.createNode(h,c,e),h.setAttribute("data-requirecontext",b.contextName),h.setAttribute("data-requiremodule",c),h.attachEvent&&!(h.attachEvent.toString&&0>h.attachEvent.toString().indexOf("[native code"))&&!W?(O=!0,h.attachEvent("onreadystatechange",b.onScriptLoad)):(h.addEventListener("load",b.onScriptLoad,!1),h.addEventListener("error",
b.onScriptError,!1)),h.src=e,K=h,C?x.insertBefore(h,C):x.appendChild(h),K=null,h;if(da)try{importScripts(e),b.completeLoad(c)}catch(l){b.onError(A("importscripts","importScripts failed for "+c+" at "+e,l,[c]))}};z&&!s.skipDataMain&&M(document.getElementsByTagName("script"),function(b){x||(x=b.parentNode);if(J=b.getAttribute("data-main"))return q=J,s.baseUrl||(D=q.split("/"),q=D.pop(),fa=D.length?D.join("/")+"/":"./",s.baseUrl=fa),q=q.replace(ea,""),j.jsExtRegExp.test(q)&&(q=J),s.deps=s.deps?s.deps.concat(q):
[q],!0});define=function(b,c,e){var h,j;"string"!==typeof b&&(e=c,c=b,b=null);I(c)||(e=c,c=null);!c&&H(e)&&(c=[],e.length&&(e.toString().replace(la,"").replace(ma,function(b,e){c.push(e)}),c=(1===e.length?["require"]:["require","exports","module"]).concat(c)));if(O){if(!(h=K))P&&"interactive"===P.readyState||M(document.getElementsByTagName("script"),function(b){if("interactive"===b.readyState)return P=b}),h=P;h&&(b||(b=h.getAttribute("data-requiremodule")),j=E[h.getAttribute("data-requirecontext")])}(j?
j.defQueue:R).push([b,c,e])};define.amd={jQuery:!0};j.exec=function(b){return eval(b)};j(s)}})(this);

/*jslint nomen: true*/
/*global $,define,require,window */

require.config({
    baseUrl: 'js',
    paths: {
        lib: './lib',
        view: './view',
        aceMain: 'http://yguan.github.io/repos/test-anywhere/js/lib/ace/ace',
        aceLanguage: 'http://yguan.github.io/repos/test-anywhere/js/lib/ace/ext-language_tools'
    },
    shim: {
        'aceMain': {
            exports: 'ace'
        },
        'aceLanguage': {
            exports: 'aceLanguage'
        }
    }
});
define("lib/text",["module"],function(t){var e,n,r,i,o,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,l=c&&location.protocol&&location.protocol.replace(/\:/,""),f=c&&location.hostname,p=c&&(location.port||void 0),h={},d=t.config&&t.config()||{};return e={version:"2.0.10",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(u);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var t,e,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){n=s[e];try{t=new ActiveXObject(n)}catch(r){}if(t){s=[n];break}}return t},parseName:function(t){var e,n,r,i=!1,o=t.indexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!s||o>1)?(e=t.substring(0,o),n=t.substring(o+1,t.length)):e=t,r=n||e,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:e=r),{moduleName:e,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,n,r,i){var o,s,a,u=e.xdRegExp.exec(t);return u?(o=u[2],s=u[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==n||s&&s.toLowerCase()!==r.toLowerCase()||(a||s)&&a!==i)):!0},finishLoad:function(t,n,r,i){r=n?e.strip(r):r,d.isBuild&&(h[t]=r),i(r)},load:function(t,n,r,i){if(i.isBuild&&!i.inlineText)return r(),void 0;d.isBuild=i.isBuild;var o=e.parseName(t),s=o.moduleName+(o.ext?"."+o.ext:""),a=n.toUrl(s),u=d.useXhr||e.useXhr;return 0===a.indexOf("empty:")?(r(),void 0):(!c||u(a,l,f,p)?e.get(a,function(n){e.finishLoad(t,o.strip,n,r)},function(t){r.error&&r.error(t)}):n([s],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,r)}),void 0)},write:function(t,n,r){if(h.hasOwnProperty(n)){var i=e.jsEscape(h[n]);r.asModule(t+"!"+n,"define(function () { return '"+i+"';});\n")}},writeFile:function(t,n,r,i,o){var s=e.parseName(n),a=s.ext?"."+s.ext:"",u=s.moduleName+a,c=r.toUrl(s.moduleName+a)+".js";e.load(u,r,function(){var n=function(t){return i(c,t)};n.asModule=function(t,e){return i.asModule(t,c,e)},e.write(t,u,n,o)},o)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),e.get=function(t,e,r){try{var i=n.readFileSync(t,"utf8");0===i.indexOf("ï»¿")&&(i=i.substring(1)),e(i)}catch(o){r(o)}}):"xhr"===d.env||!d.env&&e.createXhr()?e.get=function(t,n,r,i){var o,s=e.createXhr();if(s.open("GET",t,!0),i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,t),s.onreadystatechange=function(){var e,i;4===s.readyState&&(e=s.status,e>399&&600>e?(i=new Error(t+" HTTP status: "+e),i.xhr=s,r(i)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,t))},s.send(null)}:"rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var n,r,i="utf-8",o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),u="";try{for(n=new java.lang.StringBuffer,r=a.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=a.readLine());)n.append(s),n.append(r);u=String(n.toString())}finally{a.close()}e(u)}:("xpconnect"===d.env||!d.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in r,e.get=function(t,e){var n,s,a,u={};o&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(a,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),u),s.close(),n.close(),e(u.value)}catch(c){throw new Error((a&&a.path||"")+": "+c)}}),e}),function(t){String.prototype.trim===t&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===t&&(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw new TypeError;var n,r=Object(this),i=r.length>>>0,o=0;if("function"!=typeof e)throw new TypeError;if(0==i&&1==arguments.length)throw new TypeError;if(arguments.length>=2)n=arguments[1];else for(;;){if(o in r){n=r[o++];break}if(++o>=i)throw new TypeError}for(;i>o;)o in r&&(n=e.call(t,n,r[o],o,r)),o++;return n})}();var Zepto=function(){function t(t){return null==t?String(t):W[V.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function i(e){return"object"==t(e)}function o(t){return i(t)&&!n(t)&&t.__proto__==Object.prototype}function s(t){return t instanceof Array}function a(t){return"number"==typeof t.length}function u(t){return M.call(t,function(t){return null!=t})}function c(t){return t.length>0?E.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(t){return t in q?q[t]:q[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function p(t,e){return"number"!=typeof e||$[l(t)]?e:e+"px"}function h(t){var e,n;return C[t]||(e=P.createElement(t),P.body.appendChild(e),n=N(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),C[t]=n),C[t]}function d(t){return"children"in t?_.call(t.children):E.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function g(t,e,n){for(T in e)n&&(o(e[T])||s(e[T]))?(o(e[T])&&!o(t[T])&&(t[T]={}),s(e[T])&&!s(t[T])&&(t[T]=[]),g(t[T],e[T],n)):e[T]!==j&&(t[T]=e[T])}function v(t,e){return e===j?E(t):E(t).filter(e)}function m(t,n,r,i){return e(n)?n.call(t,r,i):n}function y(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className,r=n&&n.baseVal!==j;return e===j?r?n.baseVal:n:(r?n.baseVal=e:t.className=e,void 0)}function w(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?E.parseJSON(t):t:e):t}catch(n){return t}}function x(t,e){e(t);for(var n in t.childNodes)x(t.childNodes[n],e)}var j,T,E,k,S,O,A=[],_=A.slice,M=A.filter,P=window.document,C={},q={},N=P.defaultView.getComputedStyle,$={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},L=/^\s*<(\w+|!)[^>]*>/,R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,z=/^(?:body|html)$/i,D=["val","css","html","text","data","width","height","offset"],I=["after","prepend","before","append"],F=P.createElement("table"),H=P.createElement("tr"),B={tr:P.createElement("tbody"),tbody:F,thead:F,tfoot:F,td:H,th:H,"*":P.createElement("div")},U=/complete|loaded|interactive/,X=/^\.([\w-]+)$/,Z=/^#([\w-]*)$/,J=/^[\w-]+$/,W={},V=W.toString,G={},K=P.createElement("div");return G.matches=function(t,e){if(!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=K).appendChild(t),r=~G.qsa(i,e).indexOf(t),o&&K.removeChild(t),r},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},O=function(t){return M.call(t,function(e,n){return t.indexOf(e)==n})},G.fragment=function(t,e,n){t.replace&&(t=t.replace(R,"<$1></$2>")),e===j&&(e=L.test(t)&&RegExp.$1),e in B||(e="*");var r,i,s=B[e];return s.innerHTML=""+t,i=E.each(_.call(s.childNodes),function(){s.removeChild(this)}),o(n)&&(r=E(i),E.each(n,function(t,e){D.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},G.Z=function(t,e){return t=t||[],t.__proto__=E.fn,t.selector=e||"",t},G.isZ=function(t){return t instanceof G.Z},G.init=function(t,n){if(t){if(e(t))return E(P).ready(t);if(G.isZ(t))return t;var r;if(s(t))r=u(t);else if(i(t))r=[o(t)?E.extend({},t):t],t=null;else if(L.test(t))r=G.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==j)return E(n).find(t);r=G.qsa(P,t)}return G.Z(r,t)}return G.Z()},E=function(t,e){return G.init(t,e)},E.extend=function(t){var e,n=_.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){g(t,n,e)}),t},G.qsa=function(t,e){var n;return r(t)&&Z.test(e)?(n=t.getElementById(RegExp.$1))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:_.call(X.test(e)?t.getElementsByClassName(RegExp.$1):J.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))},E.contains=function(t,e){return t!==e&&t.contains(e)},E.type=t,E.isFunction=e,E.isWindow=n,E.isArray=s,E.isPlainObject=o,E.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},E.inArray=function(t,e,n){return A.indexOf.call(e,t,n)},E.camelCase=S,E.trim=function(t){return t.trim()},E.uuid=0,E.support={},E.expr={},E.map=function(t,e){var n,r,i,o=[];if(a(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&o.push(n);else for(i in t)n=e(t[i],i),null!=n&&o.push(n);return c(o)},E.each=function(t,e){var n,r;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},E.grep=function(t,e){return M.call(t,e)},window.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()}),E.fn={forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,indexOf:A.indexOf,concat:A.concat,map:function(t){return E(E.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return E(_.apply(this,arguments))},ready:function(t){return U.test(P.readyState)?t(E):P.addEventListener("DOMContentLoaded",function(){t(E)},!1),this},get:function(t){return t===j?_.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return A.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):E(M.call(this,function(e){return G.matches(e,t)}))},add:function(t,e){return E(O(this.concat(E(t,e))))},is:function(t){return this.length>0&&G.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==j)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):a(t)&&e(t.item)?_.call(t):E(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return E(n)},has:function(t){return this.filter(function(){return i(t)?E.contains(this,t):E(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!i(t)?t:E(t)},last:function(){var t=this[this.length-1];return t&&!i(t)?t:E(t)},find:function(t){var e,n=this;return e="object"==typeof t?E(t).filter(function(){var t=this;return A.some.call(n,function(e){return E.contains(e,t)})}):1==this.length?E(G.qsa(this[0],t)):this.map(function(){return G.qsa(this,t)})},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=E(t));n&&!(i?i.indexOf(n)>=0:G.matches(n,t));)n=n!==e&&!r(n)&&n.parentNode;return E(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=E.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return v(e,t)},parent:function(t){return v(O(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return _.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return M.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return E.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==N(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var r=E(t).get(0),i=r.parentNode||this.length>1;return this.each(function(e){E(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){E(this[0]).before(t=E(t));for(var e;(e=t.children()).length;)t=e.first();E(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=E(this),i=r.contents(),o=n?t.call(this,e):t;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){E(this).replaceWith(E(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=E(this);(t===j?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return E(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return E(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return t===j?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;E(this).empty().append(m(this,t,e,n))})},text:function(t){return t===j?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(t,e){var n;return"string"==typeof t&&e===j?0==this.length||1!==this[0].nodeType?j:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:this.each(function(n){if(1===this.nodeType)if(i(t))for(T in t)y(this,T,t[T]);else y(this,t,m(this,e,n,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&y(this,t)})},prop:function(t,e){return e===j?this[0]&&this[0][t]:this.each(function(n){this[t]=m(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+l(t),e);return null!==n?w(n):j},val:function(t){return t===j?this[0]&&(this[0].multiple?E(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=m(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var n=E(this),r=m(this,t,e,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2&&"string"==typeof e)return this[0]&&(this[0].style[S(e)]||N(this[0],"").getPropertyValue(e));var r="";if("string"==t(e))n||0===n?r=l(e)+":"+p(e,n):this.each(function(){this.style.removeProperty(l(e))});else for(T in e)e[T]||0===e[T]?r+=l(T)+":"+p(T,e[T])+";":this.each(function(){this.style.removeProperty(l(T))});return this.each(function(){this.style.cssText+=";"+r})},index:function(t){return t?this.indexOf(E(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return A.some.call(this,function(t){return this.test(b(t))},f(t))},addClass:function(t){return this.each(function(e){k=[];var n=b(this),r=m(this,t,e,n);r.split(/\s+/g).forEach(function(t){E(this).hasClass(t)||k.push(t)},this),k.length&&b(this,n+(n?" ":"")+k.join(" "))})},removeClass:function(t){return this.each(function(e){return t===j?b(this,""):(k=b(this),m(this,t,e,k).split(/\s+/g).forEach(function(t){k=k.replace(f(t)," ")}),b(this,k.trim()),void 0)})},toggleClass:function(t,e){return this.each(function(n){var r=E(this),i=m(this,t,n,b(this));i.split(/\s+/g).forEach(function(t){(e===j?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=z.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(E(t).css("margin-top"))||0,n.left-=parseFloat(E(t).css("margin-left"))||0,r.top+=parseFloat(E(e[0]).css("border-top-width"))||0,r.left+=parseFloat(E(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||P.body;t&&!z.test(t.nodeName)&&"static"==E(t).css("position");)t=t.offsetParent;return t})}},E.fn.detach=E.fn.remove,["width","height"].forEach(function(t){E.fn[t]=function(e){var i,o=this[0],s=t.replace(/./,function(t){return t[0].toUpperCase()});return e===j?n(o)?o["inner"+s]:r(o)?o.documentElement["offset"+s]:(i=this.offset())&&i[t]:this.each(function(n){o=E(this),o.css(t,m(this,e,n,o[t]()))})}}),I.forEach(function(e,n){var r=n%2;E.fn[e]=function(){var e,i,o=E.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:G.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(t,e){i=r?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null,o.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!i)return E(t).remove();x(i.insertBefore(t,e),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},E.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return E(t)[e](this),this}}),G.Z.prototype=E.fn,G.uniq=O,G.deserializeValue=w,E.zepto=G,E}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(t){function e(t){var e=this.os={},n=this.browser={},r=t.match(/WebKit\/([\d.]+)/),i=t.match(/(Android)\s+([\d.]+)/),o=t.match(/(iPad).*OS\s([\d_]+)/),s=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),a=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),u=a&&t.match(/TouchPad/),c=t.match(/Kindle\/([\d.]+)/),l=t.match(/Silk\/([\d._]+)/),f=t.match(/(BlackBerry).*Version\/([\d.]+)/),p=t.match(/(BB10).*Version\/([\d.]+)/),h=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),d=t.match(/PlayBook/),g=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),v=t.match(/Firefox\/([\d.]+)/);(n.webkit=!!r)&&(n.version=r[1]),i&&(e.android=!0,e.version=i[2]),s&&(e.ios=e.iphone=!0,e.version=s[2].replace(/_/g,".")),o&&(e.ios=e.ipad=!0,e.version=o[2].replace(/_/g,".")),a&&(e.webos=!0,e.version=a[2]),u&&(e.touchpad=!0),f&&(e.blackberry=!0,e.version=f[2]),p&&(e.bb10=!0,e.version=p[2]),h&&(e.rimtabletos=!0,e.version=h[2]),d&&(n.playbook=!0),c&&(e.kindle=!0,e.version=c[1]),l&&(n.silk=!0,n.version=l[1]),!l&&e.android&&t.match(/Kindle Fire/)&&(n.silk=!0),g&&(n.chrome=!0,n.version=g[1]),v&&(n.firefox=!0,n.version=v[1]),e.tablet=!!(o||d||i&&!t.match(/Mobile/)||v&&t.match(/Tablet/)),e.phone=!(e.tablet||!(i||s||a||f||p||g&&t.match(/Android/)||g&&t.match(/CriOS\/([\d.]+)/)||v&&t.match(/Mobile/)))}e.call(t,navigator.userAgent),t.__detect=e}(Zepto),function(t){function e(t){return t._zid||(t._zid=h++)}function n(t,n,o,s){if(n=r(n),n.ns)var a=i(n.ns);return(p[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!a.test(t.ns)||o&&e(t.fn)!==e(o)||s&&t.sel!=s)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(e,n,r){"string"!=t.type(e)?t.each(e,r):e.split(/\s/).forEach(function(t){r(t,n)})}function s(t,e){return t.del&&("focus"==t.e||"blur"==t.e)||!!e}function a(t){return g[t]||t}function u(n,i,u,c,l,f){var h=e(n),d=p[h]||(p[h]=[]);o(i,u,function(e,i){var o=r(e);o.fn=i,o.sel=c,o.e in g&&(i=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?o.fn.apply(this,arguments):void 0}),o.del=l&&l(i,e);var u=o.del||i;o.proxy=function(t){var e=u.apply(n,[t].concat(t.data));return e===!1&&(t.preventDefault(),t.stopPropagation()),e},o.i=d.length,d.push(o),n.addEventListener(a(o.e),o.proxy,s(o,f))})}function c(t,r,i,u,c){var l=e(t);o(r||"",i,function(e,r){n(t,e,r,u).forEach(function(e){delete p[l][e.i],t.removeEventListener(a(e.e),e.proxy,s(e,c))})})}function l(e){var n,r={originalEvent:e};for(n in e)y.test(n)||void 0===e[n]||(r[n]=e[n]);return t.each(b,function(t,n){r[t]=function(){return this[n]=v,e[t].apply(e,arguments)},r[n]=m}),r}function f(t){if(!("defaultPrevented"in t)){t.defaultPrevented=!1;var e=t.preventDefault;t.preventDefault=function(){this.defaultPrevented=!0,e.call(this)}}}var p=(t.zepto.qsa,{}),h=1,d={},g={mouseenter:"mouseover",mouseleave:"mouseout"};d.click=d.mousedown=d.mouseup=d.mousemove="MouseEvents",t.event={add:u,remove:c},t.proxy=function(n,r){if(t.isFunction(n)){var i=function(){return n.apply(r,arguments)};return i._zid=e(n),i}if("string"==typeof r)return t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e){return this.each(function(){u(this,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){c(this,t,e)})},t.fn.one=function(t,e){return this.each(function(n,r){u(this,t,e,null,function(t,e){return function(){var n=t.apply(r,arguments);return c(r,e,t),n}})})};var v=function(){return!0},m=function(){return!1},y=/^([A-Z]|layer[XY]$)/,b={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,n,r){return this.each(function(i,o){u(o,n,r,e,function(n){return function(r){var i,s=t(r.target).closest(e,o).get(0);return s?(i=t.extend(l(r),{currentTarget:s,liveFired:o}),n.apply(s,[i].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,e,n){return this.each(function(){c(this,e,n,t)})},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r){return!n||t.isFunction(n)?this.bind(e,n||r):this.delegate(n,e,r)},t.fn.off=function(e,n,r){return!n||t.isFunction(n)?this.unbind(e,n||r):this.undelegate(n,e,r)},t.fn.trigger=function(e,n){return("string"==typeof e||t.isPlainObject(e))&&(e=t.Event(e)),f(e),e.data=n,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(e)})},t.fn.triggerHandler=function(e,r){var i,o;return this.each(function(s,a){i=l("string"==typeof e?t.Event(e):e),i.data=r,i.target=a,t.each(n(a,e.type||e),function(t,e){return o=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){"string"!=typeof t&&(e=t,t=e.type);var n=document.createEvent(d[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0,null,null,null,null,null,null,null,null,null,null,null,null),n.isDefaultPrevented=function(){return this.defaultPrevented},n}}(Zepto),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.defaultPrevented}function n(t,n,r,i){return t.global?e(n||y,r,i):void 0}function r(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function i(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var r=e.context;return e.beforeSend.call(r,t,e)===!1||n(e,r,"ajaxBeforeSend",[t,e])===!1?!1:(n(e,r,"ajaxSend",[t,e]),void 0)}function s(t,e,r){var i=r.context,o="success";r.success.call(i,t,o,e),n(r,i,"ajaxSuccess",[e,r,t]),u(o,e,r)}function a(t,e,r,i){var o=i.context;i.error.call(o,r,e,t),n(i,o,"ajaxError",[r,i,t]),u(e,r,i)}function u(t,e,r){var o=r.context;r.complete.call(o,e,t),n(r,o,"ajaxComplete",[e,r]),i(r)}function c(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==j?"json":w.test(t)?"script":x.test(t)&&"xml")||"text"}function f(t,e){return(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data))}function h(e,n,r,i){var o=!t.isFunction(n);return{url:e,data:o?n:void 0,success:o?t.isFunction(r)?r:void 0:n,dataType:o?i||r:r}}function d(e,n,r,i){var o,s=t.isArray(n);t.each(n,function(n,a){o=t.type(a),i&&(n=r?i:i+"["+(s?"":n)+"]"),!i&&s?e.add(a.name,a.value):"array"==o||!r&&"object"==o?d(e,a,r,n):e.add(n,a)})}var g,v,m=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,j="application/json",T="text/html",E=/^\s*$/;t.active=0,t.ajaxJSONP=function(e){if(!("type"in e))return t.ajax(e);var n,r="jsonp"+ ++m,i=y.createElement("script"),u=function(){clearTimeout(n),t(i).remove(),delete window[r]},l=function(t){u(),t&&"timeout"!=t||(window[r]=c),a(null,t||"abort",f,e)},f={abort:l};return o(f,e)===!1?(l("abort"),!1):(window[r]=function(t){u(),s(t,f,e)},i.onerror=function(){l("error")},i.src=e.url.replace(/=\?/,"="+r),t("head").append(i),e.timeout>0&&(n=setTimeout(function(){l("timeout")},e.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:j,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{});for(g in t.ajaxSettings)void 0===n[g]&&(n[g]=t.ajaxSettings[g]);r(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),p(n),n.cache===!1&&(n.url=f(n.url,"_="+Date.now()));var i=n.dataType,u=/=\?/.test(n.url);if("jsonp"==i||u)return u||(n.url=f(n.url,"callback=?")),t.ajaxJSONP(n);var h,d=n.accepts[i],m={},y=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,b=n.xhr();n.crossDomain||(m["X-Requested-With"]="XMLHttpRequest"),d&&(m.Accept=d,d.indexOf(",")>-1&&(d=d.split(",",2)[0]),b.overrideMimeType&&b.overrideMimeType(d)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&(m["Content-Type"]=n.contentType||"application/x-www-form-urlencoded"),n.headers=t.extend(m,n.headers||{}),b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=c,clearTimeout(h);var e,r=!1;if(b.status>=200&&b.status<300||304==b.status||0==b.status&&"file:"==y){i=i||l(b.getResponseHeader("content-type")),e=b.responseText;try{"script"==i?(1,eval)(e):"xml"==i?e=b.responseXML:"json"==i&&(e=E.test(e)?null:t.parseJSON(e))}catch(o){r=o}r?a(r,"parsererror",b,n):s(e,b,n)}else a(null,b.status?"error":"abort",b,n)}};var w="async"in n?n.async:!0;b.open(n.type,n.url,w);for(v in n.headers)b.setRequestHeader(v,n.headers[v]);return o(b,n)===!1?(b.abort(),!1):(n.timeout>0&&(h=setTimeout(function(){b.onreadystatechange=c,b.abort(),a(null,"timeout",b,n)},n.timeout)),b.send(n.data?n.data:null),b)},t.get=function(){return t.ajax(h.apply(null,arguments))},t.post=function(){var e=h.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=h.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,o=this,s=e.split(/\s/),a=h(e,n,r),u=a.success;return s.length>1&&(a.url=s[0],i=s[1]),a.success=function(e){o.html(i?t("<div>").html(e.replace(b,"")).find(i):e),u&&u.apply(o,arguments)},t.ajax(a),this};var k=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(k(t)+"="+k(e))},d(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n=[];return t(Array.prototype.slice.call(this.get(0).elements)).each(function(){e=t(this);var r=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&("radio"!=r&&"checkbox"!=r||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(t,e){function n(t){return r(t.replace(/([a-z])([A-Z])/,"$1-$2"))}function r(t){return t.toLowerCase()}function i(t){return o?o+t:r(t)}var o,s,a,u,c,l,f,p,h="",d={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},g=window.document,v=g.createElement("div"),m=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(d,function(t,n){return v.style[t+"TransitionProperty"]!==e?(h="-"+r(t)+"-",o=n,!1):void 0}),s=h+"transform",y[a=h+"transition-property"]=y[u=h+"transition-duration"]=y[c=h+"transition-timing-function"]=y[l=h+"animation-name"]=y[f=h+"animation-duration"]=y[p=h+"animation-timing-function"]="",t.fx={off:o===e&&v.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:h,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(e,n,r,i){return t.isPlainObject(n)&&(r=n.easing,i=n.complete,n=n.duration),n&&(n=("number"==typeof n?n:t.fx.speeds[n]||t.fx.speeds._default)/1e3),this.anim(e,n,r,i)},t.fn.anim=function(r,i,o,h){var d,g,v,b={},w="",x=this,j=t.fx.transitionEnd;if(i===e&&(i=.4),t.fx.off&&(i=0),"string"==typeof r)b[l]=r,b[f]=i+"s",b[p]=o||"linear",j=t.fx.animationEnd;else{g=[];for(d in r)m.test(d)?w+=d+"("+r[d]+") ":(b[d]=r[d],g.push(n(d)));w&&(b[s]=w,g.push(s)),i>0&&"object"==typeof r&&(b[a]=g.join(", "),b[u]=i+"s",b[c]=o||"linear")}return v=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(j,v)}t(this).css(y),h&&h.call(this)},i>0&&this.bind(j,v),this.size()&&this.get(0).clientLeft,this.css(b),0>=i&&setTimeout(function(){x.each(function(){v.call(this)})},0),this},v=null}(Zepto),define("lib/zepto",function(){}),function(){function t(){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},e=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(e,function(e){return t[e]||e}):this}}function e(t,n,r){return("string"==typeof n?n:n.toString()).replace(t.define||s,function(e,n,i,o){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===i?(t.defineParams&&o.replace(t.defineParams,function(t,e,i){r[n]={arg:e,text:i}}),n in r||(r[n]=o)):new Function("def","def['"+n+"']="+o)(r)),""}).replace(t.use||s,function(n,i){t.useParams&&(i=i.replace(t.useParams,function(t,e,n,i){if(r[n]&&r[n].arg&&i){var o=(n+":"+i).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[o]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+i+"$2"),e+"def.__exp['"+o+"']"}}));var o=new Function("def","return "+i)(r);return o?e(t,o,r):o})}function n(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var r,i={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define("lib/doT",[],function(){return i}):(r=function(){return this||(0,eval)("this")}(),r.doT=i),String.prototype.encodeHTML=t();var o={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},s=/$^/;
i.template=function(r,a,u){a=a||i.templateSettings;var c,l,f=a.append?o.append:o.split,p=0,h=a.use||a.define?e(a,r,u||{}):r;h=("var out='"+(a.strip?h.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):h).replace(/'|\\/g,"\\$&").replace(a.interpolate||s,function(t,e){return f.start+n(e)+f.end}).replace(a.encode||s,function(t,e){return c=!0,f.start+n(e)+f.endencode}).replace(a.conditional||s,function(t,e,r){return e?r?"';}else if("+n(r)+"){out+='":"';}else{out+='":r?"';if("+n(r)+"){out+='":"';}out+='"}).replace(a.iterate||s,function(t,e,r,i){return e?(p+=1,l=i||"i"+p,e=n(e),"';var arr"+p+"="+e+";if(arr"+p+"){var "+r+","+l+"=-1,l"+p+"=arr"+p+".length-1;while("+l+"<l"+p+"){"+r+"=arr"+p+"["+l+"+=1];out+='"):"';} } out+='"}).replace(a.evaluate||s,function(t,e){return"';"+n(e)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),c&&a.selfcontained&&(h="String.prototype.encodeHTML=("+t.toString()+"());"+h);try{return new Function(a.varname,h)}catch(d){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+h),d}},i.compile=function(t,e){return i.template(t,null,e)}}(),function(){function t(e){var n=t.resolve(e),r=t.modules[n];if(!r)throw new Error('failed to require "'+e+'"');return r.exports||(r.exports={},r.call(r.exports,r,r.exports,t.relative(n))),r.exports}function e(){for(var t=(new n).getTime();u.length&&(new n).getTime()-t<100;)u.shift()();o=u.length?r(e,0):null}t.modules={},t.resolve=function(e){var n=e,r=e+".js",i=e+"/index.js";return t.modules[r]&&r||t.modules[i]&&i||n},t.register=function(e,n){t.modules[e]=n},t.relative=function(e){return function(n){if("."!=n.charAt(0))return t(n);var r=e.split("/"),i=n.split("/");r.pop();for(var o=0;o<i.length;o++){var s=i[o];".."==s?r.pop():"."!=s&&r.push(s)}return t(r.join("/"))}},t.register("browser/debug.js",function(t){t.exports=function(){return function(){}}}),t.register("browser/diff.js",function(t){var e=function(){function t(t){return{newPos:t.newPos,components:t.components.slice(0)}}function e(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e}function n(t){var e=t;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;")}var r=function(t){this.ignoreWhitespace=t};r.prototype={diff:function(e,n){if(n===e)return[{value:n}];if(!n)return[{value:e,removed:!0}];if(!e)return[{value:n,added:!0}];n=this.tokenize(n),e=this.tokenize(e);var r=n.length,i=e.length,o=r+i,s=[{newPos:-1,components:[]}],a=this.extractCommon(s[0],n,e,0);if(s[0].newPos+1>=r&&a+1>=i)return s[0].components;for(var u=1;o>=u;u++)for(var c=-1*u;u>=c;c+=2){var l,f=s[c-1],p=s[c+1];a=(p?p.newPos:0)-c,f&&(s[c-1]=void 0);var h=f&&f.newPos+1<r,d=p&&a>=0&&i>a;if(h||d){!h||d&&f.newPos<p.newPos?(l=t(p),this.pushComponent(l.components,e[a],void 0,!0)):(l=t(f),l.newPos++,this.pushComponent(l.components,n[l.newPos],!0,void 0));var a=this.extractCommon(l,n,e,c);if(l.newPos+1>=r&&a+1>=i)return l.components;s[c]=l}else s[c]=void 0}},pushComponent:function(t,e,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={value:this.join(i.value,e),added:n,removed:r}:t.push({value:e,added:n,removed:r})},extractCommon:function(t,e,n,r){for(var i=e.length,o=n.length,s=t.newPos,a=s-r;i>s+1&&o>a+1&&this.equals(e[s+1],n[a+1]);)s++,a++,this.pushComponent(t.components,e[s],void 0,void 0);return t.newPos=s,a},equals:function(t,e){var n=/\S/;return!this.ignoreWhitespace||n.test(t)||n.test(e)?t===e:!0},join:function(t,e){return t+e},tokenize:function(t){return t}};var i=new r,o=new r(!0),s=new r;o.tokenize=s.tokenize=function(t){return e(t.split(/(\s+|\b)/))};var a=new r(!0);a.tokenize=function(t){return e(t.split(/([{}:;,]|\s+)/))};var u=new r;return u.tokenize=function(t){return t.split(/^/m)},{Diff:r,diffChars:function(t,e){return i.diff(t,e)},diffWords:function(t,e){return o.diff(t,e)},diffWordsWithSpace:function(t,e){return s.diff(t,e)},diffLines:function(t,e){return u.diff(t,e)},diffCss:function(t,e){return a.diff(t,e)},createPatch:function(t,e,n,r,i){function o(t){return t.map(function(t){return" "+t})}function s(t,e,n){var r=c[c.length-2],i=e===c.length-2,o=e===c.length-3&&(n.added!==r.added||n.removed!==r.removed);/\n$/.test(n.value)||!i&&!o||t.push("\\ No newline at end of file")}var a=[];a.push("Index: "+t),a.push("==================================================================="),a.push("--- "+t+("undefined"==typeof r?"":"	"+r)),a.push("+++ "+t+("undefined"==typeof i?"":"	"+i));var c=u.diff(e,n);c[c.length-1].value||c.pop(),c.push({value:"",lines:[]});for(var l=0,f=0,p=[],h=1,d=1,g=0;g<c.length;g++){var v=c[g],m=v.lines||v.value.replace(/\n$/,"").split("\n");if(v.lines=m,v.added||v.removed){if(!l){var y=c[g-1];l=h,f=d,y&&(p=o(y.lines.slice(-4)),l-=p.length,f-=p.length)}p.push.apply(p,m.map(function(t){return(v.added?"+":"-")+t})),s(p,g,v),v.added?d+=m.length:h+=m.length}else{if(l)if(m.length<=8&&g<c.length-2)p.push.apply(p,o(m));else{var b=Math.min(m.length,4);a.push("@@ -"+l+","+(h-l+b)+" +"+f+","+(d-f+b)+" @@"),a.push.apply(a,p),a.push.apply(a,o(m.slice(0,b))),m.length<=4&&s(a,g,v),l=0,f=0,p=[]}h+=m.length,d+=m.length}}return a.join("\n")+"\n"},applyPatch:function(t,e){for(var n=e.split("\n"),r=[],i=!1,o=!1,s="I"===n[0][0]?4:0;s<n.length;s++)if("@"===n[s][0]){var a=n[s].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:a[3],oldlength:a[2],oldlines:[],newlength:a[4],newlines:[]})}else"+"===n[s][0]?r[0].newlines.push(n[s].substr(1)):"-"===n[s][0]?r[0].oldlines.push(n[s].substr(1)):" "===n[s][0]?(r[0].newlines.push(n[s].substr(1)),r[0].oldlines.push(n[s].substr(1))):"\\"===n[s][0]&&("+"===n[s-1][0]?i=!0:"-"===n[s-1][0]&&(o=!0));for(var u=t.split("\n"),s=r.length-1;s>=0;s--){for(var c=r[s],l=0;l<c.oldlength;l++)if(u[c.start-1+l]!==c.oldlines[l])return!1;Array.prototype.splice.apply(u,[c.start-1,+c.oldlength].concat(c.newlines))}if(i)for(;!u[u.length-1];)u.pop();else o&&u.push("");return u.join("\n")},convertChangesToXML:function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];i.added?e.push("<ins>"):i.removed&&e.push("<del>"),e.push(n(i.value)),i.added?e.push("</ins>"):i.removed&&e.push("</del>")}return e.join("")},convertChangesToDMP:function(t){for(var e,n=[],r=0;r<t.length;r++)e=t[r],n.push([e.added?1:e.removed?-1:0,e.value]);return n}}}();"undefined"!=typeof t&&(t.exports=e)}),t.register("browser/events.js",function(t,e){function n(t){return"[object Array]"=={}.toString.call(t)}function r(){}e.EventEmitter=r,r.prototype.on=function(t,e){return this.$events||(this.$events={}),this.$events[t]?n(this.$events[t])?this.$events[t].push(e):this.$events[t]=[this.$events[t],e]:this.$events[t]=e,this},r.prototype.addListener=r.prototype.on,r.prototype.once=function(t,e){function n(){r.removeListener(t,n),e.apply(this,arguments)}var r=this;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){if(this.$events&&this.$events[t]){var r=this.$events[t];if(n(r)){for(var i=-1,o=0,s=r.length;s>o;o++)if(r[o]===e||r[o].listener&&r[o].listener===e){i=o;break}if(0>i)return this;r.splice(i,1),r.length||delete this.$events[t]}else(r===e||r.listener&&r.listener===e)&&delete this.$events[t]}return this},r.prototype.removeAllListeners=function(t){return void 0===t?(this.$events={},this):(this.$events&&this.$events[t]&&(this.$events[t]=null),this)},r.prototype.listeners=function(t){return this.$events||(this.$events={}),this.$events[t]||(this.$events[t]=[]),n(this.$events[t])||(this.$events[t]=[this.$events[t]]),this.$events[t]},r.prototype.emit=function(t){if(!this.$events)return!1;var e=this.$events[t];if(!e)return!1;var r=[].slice.call(arguments,1);if("function"==typeof e)e.apply(this,r);else{if(!n(e))return!1;for(var i=e.slice(),o=0,s=i.length;s>o;o++)i[o].apply(this,r)}return!0}}),t.register("browser/fs.js",function(){}),t.register("browser/path.js",function(){}),t.register("browser/progress.js",function(t){function e(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}t.exports=e,e.prototype.size=function(t){return this._size=t,this},e.prototype.text=function(t){return this._text=t,this},e.prototype.fontSize=function(t){return this._fontSize=t,this},e.prototype.font=function(t){return this._font=t,this},e.prototype.update=function(t){return this.percent=t,this},e.prototype.draw=function(t){var e=Math.min(this.percent,100),n=this._size,r=n/2,i=r,o=r,s=r-1,a=this._fontSize;t.font=a+"px "+this._font;var u=2*Math.PI*(e/100);t.clearRect(0,0,n,n),t.strokeStyle="#9f9f9f",t.beginPath(),t.arc(i,o,s,0,u,!1),t.stroke(),t.strokeStyle="#eee",t.beginPath(),t.arc(i,o,s-1,0,u,!0),t.stroke();var c=this._text||(0|e)+"%",l=t.measureText(c).width;return t.fillText(c,i-l/2+1,o+a/2-1),this}}),t.register("browser/tty.js",function(t,e){e.isatty=function(){return!0},e.getWindowSize=function(){return"innerHeight"in global?[global.innerHeight,global.innerWidth]:[640,480]}}),t.register("context.js",function(t){function e(){}t.exports=e,e.prototype.runnable=function(t){return 0==arguments.length?this._runnable:(this.test=this._runnable=t,this)},e.prototype.timeout=function(t){return this.runnable().timeout(t),this},e.prototype.slow=function(t){return this.runnable().slow(t),this},e.prototype.inspect=function(){return JSON.stringify(this,function(t,e){return"_runnable"!=t&&"test"!=t?e:void 0},2)}}),t.register("hook.js",function(t,e,n){function r(t,e){o.call(this,t,e),this.type="hook"}function i(){}var o=n("./runnable");t.exports=r,i.prototype=o.prototype,r.prototype=new i,r.prototype.constructor=r,r.prototype.error=function(t){if(0==arguments.length){var t=this._error;return this._error=null,t}this._error=t}}),t.register("interfaces/bdd.js",function(t,e,n){var r=n("../suite"),i=n("../test"),o=n("../utils");t.exports=function(t){var e=[t];t.on("pre-require",function(t,n,s){t.before=function(t){e[0].beforeAll(t)},t.after=function(t){e[0].afterAll(t)},t.beforeEach=function(t){e[0].beforeEach(t)},t.afterEach=function(t){e[0].afterEach(t)},t.describe=t.context=function(t,n){var i=r.create(e[0],t);return e.unshift(i),n.call(i),e.shift(),i},t.xdescribe=t.xcontext=t.describe.skip=function(t,n){var i=r.create(e[0],t);i.pending=!0,e.unshift(i),n.call(i),e.shift()},t.describe.only=function(e,n){var r=t.describe(e,n);return s.grep(r.fullTitle()),r},t.it=t.specify=function(t,n){var r=e[0];if(r.pending)var n=null;var o=new i(t,n);return r.addTest(o),o},t.it.only=function(e,n){var r=t.it(e,n),i="^"+o.escapeRegexp(r.fullTitle())+"$";return s.grep(new RegExp(i)),r},t.xit=t.xspecify=t.it.skip=function(e){t.it(e)}})}}),t.register("interfaces/exports.js",function(t,e,n){var r=n("../suite"),i=n("../test");t.exports=function(t){function e(t){var o;for(var s in t)if("function"==typeof t[s]){var a=t[s];switch(s){case"before":n[0].beforeAll(a);break;case"after":n[0].afterAll(a);break;case"beforeEach":n[0].beforeEach(a);break;case"afterEach":n[0].afterEach(a);break;default:n[0].addTest(new i(s,a))}}else{var o=r.create(n[0],s);n.unshift(o),e(t[s]),n.shift()}}var n=[t];t.on("require",e)}}),t.register("interfaces/index.js",function(t,e,n){e.bdd=n("./bdd"),e.tdd=n("./tdd"),e.qunit=n("./qunit"),e.exports=n("./exports")}),t.register("interfaces/qunit.js",function(t,e,n){var r=n("../suite"),i=n("../test"),o=n("../utils");t.exports=function(t){var e=[t];t.on("pre-require",function(t,n,s){t.before=function(t){e[0].beforeAll(t)},t.after=function(t){e[0].afterAll(t)},t.beforeEach=function(t){e[0].beforeEach(t)},t.afterEach=function(t){e[0].afterEach(t)},t.suite=function(t){e.length>1&&e.shift();var n=r.create(e[0],t);return e.unshift(n),n},t.suite.only=function(e,n){var r=t.suite(e,n);s.grep(r.fullTitle())},t.test=function(t,n){var r=new i(t,n);return e[0].addTest(r),r},t.test.only=function(e,n){var r=t.test(e,n),i="^"+o.escapeRegexp(r.fullTitle())+"$";s.grep(new RegExp(i))},t.test.skip=function(e){t.test(e)}})}}),t.register("interfaces/tdd.js",function(t,e,n){var r=n("../suite"),i=n("../test"),o=n("../utils");t.exports=function(t){var e=[t];t.on("pre-require",function(t,n,s){t.setup=function(t){e[0].beforeEach(t)},t.teardown=function(t){e[0].afterEach(t)},t.suiteSetup=function(t){e[0].beforeAll(t)},t.suiteTeardown=function(t){e[0].afterAll(t)},t.suite=function(t,n){var i=r.create(e[0],t);return e.unshift(i),n.call(i),e.shift(),i},t.suite.skip=function(t,n){var i=r.create(e[0],t);i.pending=!0,e.unshift(i),n.call(i),e.shift()},t.suite.only=function(e,n){var r=t.suite(e,n);s.grep(r.fullTitle())},t.test=function(t,n){var r=e[0];if(r.pending)var n=null;var o=new i(t,n);return r.addTest(o),o},t.test.only=function(e,n){var r=t.test(e,n),i="^"+o.escapeRegexp(r.fullTitle())+"$";s.grep(new RegExp(i))},t.test.skip=function(e){t.test(e)}})}}),t.register("mocha.js",function(t,e,n){function r(t){return __dirname+"/../images/"+t+".png"}function i(t){t=t||{},this.files=[],this.options=t,this.grep(t.grep),this.suite=new e.Suite("",new e.Context),this.ui(t.ui),this.bail(t.bail),this.reporter(t.reporter),null!=t.timeout&&this.timeout(t.timeout),t.slow&&this.slow(t.slow)}var o=n("browser/path"),s=n("./utils");e=t.exports=i,e.utils=s,e.interfaces=n("./interfaces"),e.reporters=n("./reporters"),e.Runnable=n("./runnable"),e.Context=n("./context"),e.Runner=n("./runner"),e.Suite=n("./suite"),e.Hook=n("./hook"),e.Test=n("./test"),i.prototype.bail=function(t){return 0==arguments.length&&(t=!0),this.suite.bail(t),this},i.prototype.addFile=function(t){return this.files.push(t),this},i.prototype.reporter=function(t){if("function"==typeof t)this._reporter=t;else{t=t||"dot";try{this._reporter=n("./reporters/"+t)}catch(e){this._reporter=n(t)}if(!this._reporter)throw new Error('invalid reporter "'+t+'"')}return this},i.prototype.ui=function(t){if(t=t||"bdd",this._ui=e.interfaces[t],!this._ui)throw new Error('invalid interface "'+t+'"');return this._ui=this._ui(this.suite),this},i.prototype.loadFiles=function(t){var e=this,r=this.suite,i=this.files.length;this.files.forEach(function(s){s=o.resolve(s),r.emit("pre-require",global,s,e),r.emit("require",n(s),s,e),r.emit("post-require",global,s,e),--i||t&&t()})},i.prototype._growl=function(t,e){var i=n("growl");t.on("end",function(){var n=e.stats;if(n.failures){var o=n.failures+" of "+t.total+" tests failed";i(o,{name:"mocha",title:"Failed",image:r("error")})}else i(n.passes+" tests passed in "+n.duration+"ms",{name:"mocha",title:"Passed",image:r("ok")})})},i.prototype.grep=function(t){return this.options.grep="string"==typeof t?new RegExp(s.escapeRegexp(t)):t,this},i.prototype.invert=function(){return this.options.invert=!0,this},i.prototype.ignoreLeaks=function(t){return this.options.ignoreLeaks=!!t,this},i.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},i.prototype.growl=function(){return this.options.growl=!0,this},i.prototype.globals=function(t){return this.options.globals=(this.options.globals||[]).concat(t),this},i.prototype.timeout=function(t){return this.suite.timeout(t),this},i.prototype.slow=function(t){return this.suite.slow(t),this},i.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},i.prototype.run=function(t){this.files.length&&this.loadFiles();var n=this.suite,r=this.options,i=new e.Runner(n),o=new this._reporter(i);return i.ignoreLeaks=!1!==r.ignoreLeaks,i.asyncOnly=r.asyncOnly,r.grep&&i.grep(r.grep,r.invert),r.globals&&i.globals(r.globals),r.growl&&this._growl(i,o),i.run(t)}}),t.register("ms.js",function(t){function e(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*c;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"h":return n*a;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*o;case"ms":return n}}}function n(t){return t>=u?Math.round(t/u)+"d":t>=a?Math.round(t/a)+"h":t>=s?Math.round(t/s)+"m":t>=o?Math.round(t/o)+"s":t+"ms"}function r(t){return i(t,u,"day")||i(t,a,"hour")||i(t,s,"minute")||i(t,o,"second")||t+" ms"}function i(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var o=1e3,s=60*o,a=60*s,u=24*a,c=365.25*u;t.exports=function(t,i){return i=i||{},"string"==typeof t?e(t):i.long?r(t):n(t)}}),t.register("reporters/base.js",function(t,e,n){function r(t){var e=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},n=this.failures=[];t&&(this.runner=t,t.stats=e,t.on("start",function(){e.start=new v}),t.on("suite",function(t){e.suites=e.suites||0,t.root||e.suites++}),t.on("test end",function(){e.tests=e.tests||0,e.tests++}),t.on("pass",function(t){e.passes=e.passes||0;var n=t.slow()/2;t.speed=t.duration>t.slow()?"slow":t.duration>n?"medium":"fast",e.passes++}),t.on("fail",function(t,r){e.failures=e.failures||0,e.failures++,t.err=r,n.push(t)}),t.on("end",function(){e.end=new v,e.duration=new v-e.start}),t.on("pending",function(){e.pending++}))}function o(t,e){return t=String(t),Array(e-t.length+1).join(" ")+t}function s(t,e){var n=u(t,"WordsWithSpace",e),r=n.split("\n");if(r.length>4){var i=String(r.length).length;n=r.map(function(t,e){return o(++e,i)+" |"+" "+t}).join("\n")}return n="\n"+y("diff removed","actual")+" "+y("diff added","expected")+"\n\n"+n+"\n",n=n.replace(/^/gm,"      ")}function a(t,e){function n(t){return e&&(t=c(t)),"+"===t[0]?i+l("diff added",t):"-"===t[0]?i+l("diff removed",t):t.match(/\@\@/)?null:t.match(/\\ No newline/)?null:i+t}function r(t){return null!=t}var i="      ";msg=d.createPatch("string",t.actual,t.expected);var o=msg.split("\n").splice(4);return"\n      "+l("diff added","+ expected")+" "+l("diff removed","- actual")+"\n\n"+o.map(n).filter(r).join("\n")}function u(t,e,n){var r=n?c(t.actual):t.actual,i=n?c(t.expected):t.expected;return d["diff"+e](r,i).map(function(t){return t.added?l("diff added",t.value):t.removed?l("diff removed",t.value):t.value}).join("")}function c(t){return t.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function l(t,e){return e.split("\n").map(function(e){return y(t,e)}).join("\n")}function f(t){return t instanceof RegExp?t.toString():JSON.stringify(t,null,2)}function p(t,e){return t=Object.prototype.toString.call(t),e=Object.prototype.toString.call(e),t==e}var h=n("browser/tty"),d=n("browser/diff"),g=n("../ms"),v=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval;var m=h.isatty(1)&&h.isatty(2);e=t.exports=r,e.useColors=m||void 0!==i.env.MOCHA_COLORS,e.inlineDiffs=!1,e.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},e.symbols={ok:"â",err:"â",dot:"â¤"},"win32"==i.platform&&(e.symbols.ok="â",e.symbols.err="Ã",e.symbols.dot=".");var y=e.color=function(t,n){return e.useColors?"["+e.colors[t]+"m"+n+"[0m":n};e.window={width:m?i.stdout.getWindowSize?i.stdout.getWindowSize(1)[0]:h.getWindowSize()[1]:75},e.cursor={hide:function(){i.stdout.write("[?25l")},show:function(){i.stdout.write("[?25h")},deleteLine:function(){i.stdout.write("[2K")},beginningOfLine:function(){i.stdout.write("[0G")},CR:function(){e.cursor.deleteLine(),e.cursor.beginningOfLine()}},e.list=function(t){console.error(),t.forEach(function(t,n){var r=y("error title","  %s) %s:\n")+y("error message","     %s")+y("error stack","\n%s\n"),i=t.err,o=i.message||"",u=i.stack||o,c=u.indexOf(o)+o.length,l=u.slice(0,c),h=i.actual,d=i.expected,g=!0;i.uncaught&&(l="Uncaught "+l),i.showDiff&&p(h,d)&&(g=!1,i.actual=h=f(h),i.expected=d=f(d)),"string"==typeof h&&"string"==typeof d&&(r=y("error title","  %s) %s:\n%s")+y("error stack","\n%s\n"),l=e.inlineDiffs?s(i,g):a(i,g)),u=u.slice(c?c+1:c).replace(/^/gm,"  "),console.error(r,n+1,t.fullTitle(),l,u)})},r.prototype.epilogue=function(){var t,e=this.stats;console.log(),t=y("bright pass"," ")+y("green"," %d passing")+y("light"," (%s)"),console.log(t,e.passes||0,g(e.duration)),e.pending&&(t=y("pending"," ")+y("pending"," %d pending"),console.log(t,e.pending)),e.failures&&(t=y("fail","  %d failing"),console.error(t,e.failures),r.list(this.failures),console.error()),console.log()}}),t.register("reporters/doc.js",function(t,e,n){function r(t){function e(){return Array(n).join("  ")}i.call(this,t);var n=(this.stats,t.total,2);t.on("suite",function(t){t.root||(++n,console.log('%s<section class="suite">',e()),++n,console.log("%s<h1>%s</h1>",e(),o.escape(t.title)),console.log("%s<dl>",e()))}),t.on("suite end",function(t){t.root||(console.log("%s</dl>",e()),--n,console.log("%s</section>",e()),--n)}),t.on("pass",function(t){console.log("%s  <dt>%s</dt>",e(),o.escape(t.title));var n=o.escape(o.clean(t.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",e(),n)})}var i=n("./base"),o=n("../utils");e=t.exports=r}),t.register("reporters/dot.js",function(t,e,n){function r(t){s.call(this,t);var e=this,n=(this.stats,0|.75*s.window.width),r=0;t.on("start",function(){i.stdout.write("\n  ")}),t.on("pending",function(){i.stdout.write(a("pending",s.symbols.dot))}),t.on("pass",function(t){0==++r%n&&i.stdout.write("\n  "),"slow"==t.speed?i.stdout.write(a("bright yellow",s.symbols.dot)):i.stdout.write(a(t.speed,s.symbols.dot))}),t.on("fail",function(){0==++r%n&&i.stdout.write("\n  "),i.stdout.write(a("fail",s.symbols.dot))}),t.on("end",function(){console.log(),e.epilogue()})}function o(){}var s=n("./base"),a=s.color;e=t.exports=r,o.prototype=s.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/html-cov.js",function(t,e,n){function r(t){var e=n("jade"),r=__dirname+"/templates/coverage.jade",u=a.readFileSync(r,"utf8"),c=e.compile(u,{filename:r}),l=this;s.call(this,t,!1),t.on("end",function(){i.stdout.write(c({cov:l.cov,coverageClass:o}))})}function o(t){return t>=75?"high":t>=50?"medium":t>=25?"low":"terrible"}var s=n("./json-cov"),a=n("browser/fs");e=t.exports=r}),t.register("reporters/html.js",function(t,e,n){function r(t,e){l.call(this,t);var n,r,v=this.stats,m=(t.total,o(g)),y=m.getElementsByTagName("li"),b=y[1].getElementsByTagName("em")[0],w=y[1].getElementsByTagName("a")[0],x=y[2].getElementsByTagName("em")[0],j=y[2].getElementsByTagName("a")[0],T=y[3].getElementsByTagName("em")[0],E=m.getElementsByTagName("canvas")[0],k=o('<ul id="mocha-report"></ul>'),S=[k];if(e=e||document.getElementById("mocha"),E.getContext){var O=window.devicePixelRatio||1;E.style.width=E.width,E.style.height=E.height,E.width*=O,E.height*=O,r=E.getContext("2d"),r.scale(O,O),n=new p}return e?(c(w,"click",function(){a();var t=/pass/.test(k.className)?"":" pass";k.className=k.className.replace(/fail|pass/g,"")+t,k.className.trim()&&s("test pass")}),c(j,"click",function(){a();var t=/fail/.test(k.className)?"":" fail";k.className=k.className.replace(/fail|pass/g,"")+t,k.className.trim()&&s("test fail")}),e.appendChild(m),e.appendChild(k),n&&n.size(40),t.on("suite",function(t){if(!t.root){var e="?grep="+encodeURIComponent(t.fullTitle()),n=o('<li class="suite"><h1><a href="%s">%s</a></h1></li>',e,h(t.title));S[0].appendChild(n),S.unshift(document.createElement("ul")),n.appendChild(S[0])}}),t.on("suite end",function(t){t.root||S.shift()}),t.on("fail",function(e){"hook"==e.type&&t.emit("test end",e)}),t.on("test end",function(t){var e=0|100*(v.tests/this.total);n&&n.update(e).draw(r);var i=new d-v.start;if(u(b,v.passes),u(x,v.failures),u(T,(i/1e3).toFixed(2)),"passed"==t.state)var s=o('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="?grep=%e" class="replay">â£</a></h2></li>',t.speed,t.title,t.duration,encodeURIComponent(t.fullTitle()));else if(t.pending)var s=o('<li class="test pass pending"><h2>%e</h2></li>',t.title);else{var s=o('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">â£</a></h2></li>',t.title,encodeURIComponent(t.fullTitle())),a=t.err.stack||t.err.toString();~a.indexOf(t.err.message)||(a=t.err.message+"\n"+a),"[object Error]"==a&&(a=t.err.message),!t.err.stack&&t.err.sourceURL&&void 0!==t.err.line&&(a+="\n("+t.err.sourceURL+":"+t.err.line+")"),s.appendChild(o('<pre class="error">%e</pre>',a))}if(!t.pending){var l=s.getElementsByTagName("h2")[0];c(l,"click",function(){p.style.display="none"==p.style.display?"block":"none"});var p=o("<pre><code>%e</code></pre>",f.clean(t.fn.toString()));s.appendChild(p),p.style.display="none"}S[0]&&S[0].appendChild(s)}),void 0):i("#mocha div missing, add it to your document")}function i(t){document.body.appendChild(o('<div id="mocha-error">%s</div>',t))}function o(t){var e=arguments,n=document.createElement("div"),r=1;return n.innerHTML=t.replace(/%([se])/g,function(t,n){switch(n){case"s":return String(e[r++]);case"e":return h(e[r++])}}),n.firstChild}function s(t){for(var e=document.getElementsByClassName("suite"),n=0;n<e.length;n++){var r=e[n].getElementsByClassName(t);0==r.length&&(e[n].className+=" hidden")}}function a(){for(var t=document.getElementsByClassName("suite hidden"),e=0;e<t.length;++e)t[e].className=t[e].className.replace("suite hidden","suite")}function u(t,e){t.textContent?t.textContent=e:t.innerText=e}function c(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}var l=n("./base"),f=n("../utils"),p=n("../browser/progress"),h=f.escape,d=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval,e=t.exports=r;var g='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>'}),t.register("reporters/index.js",function(t,e,n){e.Base=n("./base"),e.Dot=n("./dot"),e.Doc=n("./doc"),e.TAP=n("./tap"),e.JSON=n("./json"),e.HTML=n("./html"),e.List=n("./list"),e.Min=n("./min"),e.Spec=n("./spec"),e.Nyan=n("./nyan"),e.XUnit=n("./xunit"),e.Markdown=n("./markdown"),e.Progress=n("./progress"),e.Landing=n("./landing"),e.JSONCov=n("./json-cov"),e.HTMLCov=n("./html-cov"),e.JSONStream=n("./json-stream")}),t.register("reporters/json-cov.js",function(t,e,n){function r(t,e){var n=this,e=1==arguments.length?!0:e;u.call(this,t);var r=[],s=[],c=[];t.on("test end",function(t){r.push(t)}),t.on("pass",function(t){c.push(t)}),t.on("fail",function(t){s.push(t)}),t.on("end",function(){var t=global._$jscoverage||{},u=n.cov=o(t);u.stats=n.stats,u.tests=r.map(a),u.failures=s.map(a),u.passes=c.map(a),e&&i.stdout.write(JSON.stringify(u,null,2))})}function o(t){var e={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in t){var r=s(n,t[n]);e.files.push(r),e.hits+=r.hits,e.misses+=r.misses,e.sloc+=r.sloc}return e.files.sort(function(t,e){return t.filename.localeCompare(e.filename)}),e.sloc>0&&(e.coverage=100*(e.hits/e.sloc)),e}function s(t,e){var n={filename:t,coverage:0,hits:0,misses:0,sloc:0,source:{}};return e.source.forEach(function(t,r){r++,0===e[r]?(n.misses++,n.sloc++):void 0!==e[r]&&(n.hits++,n.sloc++),n.source[r]={source:t,coverage:void 0===e[r]?"":e[r]}}),n.coverage=100*(n.hits/n.sloc),n}function a(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}var u=n("./base");e=t.exports=r}),t.register("reporters/json-stream.js",function(t,e,n){function r(t){s.call(this,t);var e=this,n=(this.stats,t.total);t.on("start",function(){console.log(JSON.stringify(["start",{total:n}]))}),t.on("pass",function(t){console.log(JSON.stringify(["pass",o(t)]))}),t.on("fail",function(t){console.log(JSON.stringify(["fail",o(t)]))}),t.on("end",function(){i.stdout.write(JSON.stringify(["end",e.stats]))})}function o(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}var s=n("./base");s.color,e=t.exports=r}),t.register("reporters/json.js",function(t,e,n){function r(t){var e=this;s.call(this,t);var n=[],r=[],a=[];t.on("test end",function(t){n.push(t)}),t.on("pass",function(t){a.push(t)}),t.on("fail",function(t){r.push(t)}),t.on("end",function(){var t={stats:e.stats,tests:n.map(o),failures:r.map(o),passes:a.map(o)};i.stdout.write(JSON.stringify(t,null,2))})}function o(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}var s=n("./base");s.cursor,s.color,e=t.exports=r}),t.register("reporters/landing.js",function(t,e,n){function r(t){function e(){var t=Array(r).join("-");return"  "+u("runway",t)}s.call(this,t);var n=this,r=(this.stats,0|.75*s.window.width),o=t.total,c=i.stdout,l=u("plane","â"),f=-1,p=0;t.on("start",function(){c.write("\n  "),a.hide()}),t.on("test end",function(t){var n=-1==f?0|r*++p/o:f;"failed"==t.state&&(l=u("plane crash","â"),f=n),c.write("[4F\n\n"),c.write(e()),c.write("\n  "),c.write(u("runway",Array(n).join("â"))),c.write(l),c.write(u("runway",Array(r-n).join("â")+"\n")),c.write(e()),c.write("[0m")}),t.on("end",function(){a.show(),console.log(),n.epilogue()})}function o(){}var s=n("./base"),a=s.cursor,u=s.color;e=t.exports=r,s.colors.plane=0,s.colors["plane crash"]=31,s.colors.runway=90,o.prototype=s.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/list.js",function(t,e,n){function r(t){s.call(this,t);var e=this,n=(this.stats,0);t.on("start",function(){console.log()}),t.on("test",function(t){i.stdout.write(u("pass","    "+t.fullTitle()+": "))}),t.on("pending",function(t){var e=u("checkmark","  -")+u("pending"," %s");console.log(e,t.fullTitle())}),t.on("pass",function(t){var e=u("checkmark","  "+s.symbols.dot)+u("pass"," %s: ")+u(t.speed,"%dms");a.CR(),console.log(e,t.fullTitle(),t.duration)}),t.on("fail",function(t){a.CR(),console.log(u("fail","  %d) %s"),++n,t.fullTitle())}),t.on("end",e.epilogue.bind(e))}function o(){}var s=n("./base"),a=s.cursor,u=s.color;e=t.exports=r,o.prototype=s.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/markdown.js",function(t,e,n){function r(t){function e(t){return Array(u).join("#")+" "+t}function n(t,e){var r=e;return e=e[t.title]=e[t.title]||{suite:t},t.suites.forEach(function(t){n(t,e)}),r}function r(t,e){++e;var n,i="";for(var o in t)"suite"!=o&&(o&&(n=" - ["+o+"](#"+s.slug(t[o].suite.fullTitle())+")\n"),o&&(i+=Array(e).join("  ")+n),i+=r(t[o],e));return--e,i}function a(t){var e=n(t,{});return r(e,0)}o.call(this,t);var u=(this.stats,0),c="";a(t.suite),t.on("suite",function(t){++u;var n=s.slug(t.fullTitle());c+='<a name="'+n+'"></a>'+"\n",c+=e(t.title)+"\n"}),t.on("suite end",function(){--u}),t.on("pass",function(t){var e=s.clean(t.fn.toString());c+=t.title+".\n",c+="\n```js\n",c+=e+"\n",c+="```\n\n"}),t.on("end",function(){i.stdout.write("# TOC\n"),i.stdout.write(a(t.suite)),i.stdout.write(c)})}var o=n("./base"),s=n("../utils");e=t.exports=r}),t.register("reporters/min.js",function(t,e,n){function r(t){s.call(this,t),t.on("start",function(){i.stdout.write("[2J"),i.stdout.write("[1;3H")}),t.on("end",this.epilogue.bind(this))}function o(){}var s=n("./base");e=t.exports=r,o.prototype=s.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/nyan.js",function(t,e,n){function r(t){a.call(this,t);var e=this,n=(this.stats,0|.75*a.window.width),r=(this.rainbowColors=e.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=n-r,this.scoreboardWidth=5,this.tick=0,t.on("start",function(){a.cursor.hide(),e.draw()}),t.on("pending",function(){e.draw()}),t.on("pass",function(){e.draw()}),t.on("fail",function(){e.draw()}),t.on("end",function(){a.cursor.show();for(var t=0;t<e.numberOfLines;t++)o("\n");e.epilogue()})}function o(t){i.stdout.write(t)}function s(){}var a=n("./base");a.color,e=t.exports=r,r.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},r.prototype.drawScoreboard=function(){function t(t,e){o(" "),o("["+t+"m"+e+"[0m"),o("\n")}var e=this.stats,n=a.colors;
t(n.green,e.passes),t(n.fail,e.failures),t(n.pending,e.pending),o("\n"),this.cursorUp(this.numberOfLines)},r.prototype.appendRainbow=function(){for(var t=this.tick?"_":"-",e=this.rainbowify(t),n=0;n<this.numberOfLines;n++){var r=this.trajectories[n];r.length>=this.trajectoryWidthMax&&r.shift(),r.push(e)}},r.prototype.drawRainbow=function(){var t=this;this.trajectories.forEach(function(e){o("["+t.scoreboardWidth+"C"),o(e.join("")),o("\n")}),this.cursorUp(this.numberOfLines)},r.prototype.drawNyanCat=function(){var t=this,e=this.scoreboardWidth+this.trajectories[0].length,n="["+e+"C",r="";o(n),o("_,------,"),o("\n"),o(n),r=t.tick?"  ":"   ",o("_|"+r+"/\\_/\\ "),o("\n"),o(n),r=t.tick?"_":"__";var i=t.tick?"~":"^";o(i+"|"+r+this.face()+" "),o("\n"),o(n),r=t.tick?" ":"  ",o(r+'""  "" '),o("\n"),this.cursorUp(this.numberOfLines)},r.prototype.face=function(){var t=this.stats;return t.failures?"( x .x)":t.pending?"( o .o)":t.passes?"( ^ .^)":"( - .-)"},r.prototype.cursorUp=function(t){o("["+t+"A")},r.prototype.cursorDown=function(t){o("["+t+"B")},r.prototype.generateColors=function(){for(var t=[],e=0;42>e;e++){var n=Math.floor(Math.PI/3),r=e*(1/6),i=Math.floor(3*Math.sin(r)+3),o=Math.floor(3*Math.sin(r+2*n)+3),s=Math.floor(3*Math.sin(r+4*n)+3);t.push(36*i+6*o+s+16)}return t},r.prototype.rainbowify=function(t){var e=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+e+"m"+t+"[0m"},s.prototype=a.prototype,r.prototype=new s,r.prototype.constructor=r}),t.register("reporters/progress.js",function(t,e,n){function r(t,e){s.call(this,t);var n=this,e=e||{},r=(this.stats,0|.5*s.window.width),o=t.total,c=0;Math.max,e.open=e.open||"[",e.complete=e.complete||"â¬",e.incomplete=e.incomplete||s.symbols.dot,e.close=e.close||"]",e.verbose=!1,t.on("start",function(){console.log(),a.hide()}),t.on("test end",function(){c++;var t=c/o,n=0|r*t,s=r-n;a.CR(),i.stdout.write("[J"),i.stdout.write(u("progress","  "+e.open)),i.stdout.write(Array(n).join(e.complete)),i.stdout.write(Array(s).join(e.incomplete)),i.stdout.write(u("progress",e.close)),e.verbose&&i.stdout.write(u("progress"," "+c+" of "+o))}),t.on("end",function(){a.show(),console.log(),n.epilogue()})}function o(){}var s=n("./base"),a=s.cursor,u=s.color;e=t.exports=r,s.colors.progress=90,o.prototype=s.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/spec.js",function(t,e,n){function r(t){function e(){return Array(r).join("  ")}s.call(this,t);var n=this,r=(this.stats,0),o=0;t.on("start",function(){console.log()}),t.on("suite",function(t){++r,console.log(u("suite","%s%s"),e(),t.title)}),t.on("suite end",function(){--r,1==r&&console.log()}),t.on("test",function(t){i.stdout.write(e()+u("pass","  â¦ "+t.title+": "))}),t.on("pending",function(t){var n=e()+u("pending","  - %s");console.log(n,t.title)}),t.on("pass",function(t){if("fast"==t.speed){var n=e()+u("checkmark","  "+s.symbols.ok)+u("pass"," %s ");a.CR(),console.log(n,t.title)}else{var n=e()+u("checkmark","  "+s.symbols.ok)+u("pass"," %s ")+u(t.speed,"(%dms)");a.CR(),console.log(n,t.title,t.duration)}}),t.on("fail",function(t){a.CR(),console.log(e()+u("fail","  %d) %s"),++o,t.title)}),t.on("end",n.epilogue.bind(n))}function o(){}var s=n("./base"),a=s.cursor,u=s.color;e=t.exports=r,o.prototype=s.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/tap.js",function(t,e,n){function r(t){o.call(this,t);var e=(this.stats,1),n=0,r=0;t.on("start",function(){var e=t.grepTotal(t.suite);console.log("%d..%d",1,e)}),t.on("test end",function(){++e}),t.on("pending",function(t){console.log("ok %d %s # SKIP -",e,i(t))}),t.on("pass",function(t){n++,console.log("ok %d %s",e,i(t))}),t.on("fail",function(t,n){r++,console.log("not ok %d %s",e,i(t)),n.stack&&console.log(n.stack.replace(/^/gm,"  "))}),t.on("end",function(){console.log("# tests "+(n+r)),console.log("# pass "+n),console.log("# fail "+r)})}function i(t){return t.fullTitle().replace(/#/g,"")}var o=n("./base");o.cursor,o.color,e=t.exports=r}),t.register("reporters/xunit.js",function(t,e,n){function r(t){u.call(this,t);var e=this.stats,n=[];t.on("pass",function(t){n.push(t)}),t.on("fail",function(t){n.push(t)}),t.on("end",function(){console.log(s("testsuite",{name:"Mocha Tests",tests:e.tests,failures:e.failures,errors:e.failures,skipped:e.tests-e.failures-e.passes,timestamp:(new f).toUTCString(),time:e.duration/1e3||0},!1)),n.forEach(o),console.log("</testsuite>")})}function i(){}function o(t){var e={classname:t.parent.fullTitle(),name:t.title,time:t.duration/1e3};if("failed"==t.state){var n=t.err;e.message=l(n.message),console.log(s("testcase",e,!1,s("failure",e,!1,a(n.stack))))}else t.pending?console.log(s("testcase",e,!1,s("skipped",{},!0))):console.log(s("testcase",e,!0))}function s(t,e,n,r){var i,o=n?"/>":">",s=[];for(var a in e)s.push(a+'="'+l(e[a])+'"');return i="<"+t+(s.length?" "+s.join(" "):"")+o,r&&(i+=r+"</"+t+o),i}function a(t){return"<![CDATA["+l(t)+"]]>"}var u=n("./base"),c=n("../utils"),l=c.escape,f=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval,e=t.exports=r,i.prototype=u.prototype,r.prototype=new i,r.prototype.constructor=r}),t.register("runnable.js",function(t,e,n){function r(t,e){this.title=t,this.fn=e,this.async=e&&e.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this.timedOut=!1}function i(){}var o=n("browser/events").EventEmitter,s=n("browser/debug")("mocha:runnable"),a=n("./ms"),u=global.Date,c=global.setTimeout,l=(global.setInterval,global.clearTimeout);global.clearInterval;var f=Object.prototype.toString;t.exports=r,i.prototype=o.prototype,r.prototype=new i,r.prototype.constructor=r,r.prototype.timeout=function(t){return 0==arguments.length?this._timeout:("string"==typeof t&&(t=a(t)),s("timeout %d",t),this._timeout=t,this.timer&&this.resetTimeout(),this)},r.prototype.slow=function(t){return 0===arguments.length?this._slow:("string"==typeof t&&(t=a(t)),s("timeout %d",t),this._slow=t,this)},r.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},r.prototype.clearTimeout=function(){l(this.timer)},r.prototype.inspect=function(){return JSON.stringify(this,function(t,e){return"_"!=t[0]?"parent"==t?"#<Suite>":"ctx"==t?"#<Context>":e:void 0},2)},r.prototype.resetTimeout=function(){var t=this,e=this.timeout()||1e9;this.clearTimeout(),this.timer=c(function(){t.callback(new Error("timeout of "+e+"ms exceeded")),t.timedOut=!0},e)},r.prototype.run=function(t){function e(t){i||(i=!0,o.emit("error",t||new Error("done() called multiple times")))}function n(n){if(!o.timedOut){if(r)return e(n);o.clearTimeout(),o.duration=new u-a,r=!0,t(n)}}var r,i,o=this,s=this.timeout(),a=new u,l=this.ctx;if(l&&l.runnable(this),this.async&&s&&(this.timer=c(function(){n(new Error("timeout of "+s+"ms exceeded")),o.timedOut=!0},s)),this.callback=n,this.async)try{this.fn.call(l,function(t){return t instanceof Error||"[object Error]"===f.call(t)?n(t):null!=t?n(new Error("done() invoked with non-Error: "+t)):(n(),void 0)})}catch(p){n(p)}else{if(this.asyncOnly)return n(new Error("--async-only option in use without declaring `done()`"));try{this.pending||this.fn.call(l),this.duration=new u-a,t()}catch(p){t(p)}}}}),t.register("runner.js",function(t,e,n){function r(t){var e=this;this._globals=[],this.suite=t,this.total=t.total(),this.failures=0,this.on("test end",function(t){e.checkGlobals(t)}),this.on("hook end",function(t){e.checkGlobals(t)}),this.grep(/.*/),this.globals(this.globalProps().concat(["errno"]))}function o(){}function s(t,e){return l(e,function(e){if(/^d+/.test(e))return!1;if(global.navigator&&/^getInterface/.test(e))return!1;if(global.navigator&&/^\d+/.test(e))return!1;if(/^mocha-/.test(e))return!1;var n=l(t,function(t){return~t.indexOf("*")?0==e.indexOf(t.split("*")[0]):e==t});return 0==n.length&&(!global.navigator||"onerror"!==e)})}var a=n("browser/events").EventEmitter,u=n("browser/debug")("mocha:runner"),c=(n("./test"),n("./utils")),l=c.filter;c.keys;var f=["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"];t.exports=r,r.immediately=global.setImmediate||i.nextTick,o.prototype=a.prototype,r.prototype=new o,r.prototype.constructor=r,r.prototype.grep=function(t,e){return u("grep %s",t),this._grep=t,this._invert=e,this.total=this.grepTotal(this.suite),this},r.prototype.grepTotal=function(t){var e=this,n=0;return t.eachTest(function(t){var r=e._grep.test(t.fullTitle());e._invert&&(r=!r),r&&n++}),n},r.prototype.globalProps=function(){for(var t=c.keys(global),e=0;e<f.length;++e)~c.indexOf(t,f[e])||t.push(f[e]);return t},r.prototype.globals=function(t){return 0==arguments.length?this._globals:(u("globals %j",t),c.forEach(t,function(t){this._globals.push(t)},this),this)},r.prototype.checkGlobals=function(t){if(!this.ignoreLeaks){var e,n=this._globals,r=this.globalProps(),o=i.kill;o&&1==n.length-r.length||2!=n.length-r.length&&this.prevGlobalsLength!=r.length&&(this.prevGlobalsLength=r.length,e=s(n,r),this._globals=this._globals.concat(e),e.length>1?this.fail(t,new Error("global leaks detected: "+e.join(", "))):e.length&&this.fail(t,new Error("global leak detected: "+e[0])))}},r.prototype.fail=function(t,e){++this.failures,t.state="failed","string"==typeof e&&(e=new Error('the string "'+e+'" was thrown, throw an Error :)')),this.emit("fail",t,e)},r.prototype.failHook=function(t,e){this.fail(t,e),this.emit("end")},r.prototype.hook=function(t,e){function n(t){var r=o[t];return r?s.failures&&i.bail()?e():(s.currentRunnable=r,r.ctx.currentTest=s.test,s.emit("hook",r),r.on("error",function(t){s.failHook(r,t)}),r.run(function(e){r.removeAllListeners("error");var i=r.error();return i&&s.fail(s.test,i),e?s.failHook(r,e):(s.emit("hook end",r),delete r.ctx.currentTest,n(++t),void 0)}),void 0):e()}var i=this.suite,o=i["_"+t],s=this;r.immediately(function(){n(0)})},r.prototype.hooks=function(t,e,n){function r(s){return i.suite=s,s?(i.hook(t,function(t){return t?(i.suite=o,n(t)):(r(e.pop()),void 0)}),void 0):(i.suite=o,n())}var i=this,o=this.suite;r(e.pop())},r.prototype.hookUp=function(t,e){var n=[this.suite].concat(this.parents()).reverse();this.hooks(t,n,e)},r.prototype.hookDown=function(t,e){var n=[this.suite].concat(this.parents());this.hooks(t,n,e)},r.prototype.parents=function(){for(var t=this.suite,e=[];t=t.parent;)e.push(t);return e},r.prototype.runTest=function(t){var e=this.test,n=this;this.asyncOnly&&(e.asyncOnly=!0);try{e.on("error",function(t){n.fail(e,t)}),e.run(t)}catch(r){t(r)}},r.prototype.runTests=function(t,e){function n(){if(i.failures&&t._bail)return e();if(r=o.shift(),!r)return e();var s=i._grep.test(r.fullTitle());return i._invert&&(s=!s),s?r.pending?(i.emit("pending",r),i.emit("test end",r),n()):(i.emit("test",i.test=r),i.hookDown("beforeEach",function(){i.currentRunnable=i.test,i.runTest(function(t){return r=i.test,t?(i.fail(r,t),i.emit("test end",r),i.hookUp("afterEach",n)):(r.state="passed",i.emit("pass",r),i.emit("test end",r),i.hookUp("afterEach",n),void 0)})}),void 0):n()}var r,i=this,o=t.tests.slice();this.next=n,n()},r.prototype.runSuite=function(t,e){function n(){var e=t.suites[s++];return e?(o.runSuite(e,n),void 0):r()}function r(){o.suite=t,o.hook("afterAll",function(){o.emit("suite end",t),e()})}var i=this.grepTotal(t),o=this,s=0;return u("run suite %s",t.fullTitle()),i?(this.emit("suite",this.suite=t),this.hook("beforeAll",function(){o.runTests(t,n)}),void 0):e()},r.prototype.uncaught=function(t){u("uncaught exception %s",t.message);var e=this.currentRunnable;if(e&&"failed"!=e.state)return e.clearTimeout(),t.uncaught=!0,this.fail(e,t),"test"==e.type?(this.emit("test end",e),this.hookUp("afterEach",this.next),void 0):(this.emit("end"),void 0)},r.prototype.run=function(t){function e(t){n.uncaught(t)}var n=this,t=t||function(){};return u("start"),this.on("end",function(){u("end"),i.removeListener("uncaughtException",e),t(n.failures)}),this.emit("start"),this.runSuite(this.suite,function(){u("finished running"),n.emit("end")}),i.on("uncaughtException",e),this}}),t.register("suite.js",function(t,e,n){function r(t,e){this.title=t,this.ctx=e,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!t,this._timeout=2e3,this._slow=75,this._bail=!1}function i(){}var o=n("browser/events").EventEmitter,s=n("browser/debug")("mocha:suite"),a=n("./ms"),u=n("./utils"),c=n("./hook");e=t.exports=r,e.create=function(t,e){var n=new r(e,t.ctx);return n.parent=t,t.pending&&(n.pending=!0),e=n.fullTitle(),t.addSuite(n),n},i.prototype=o.prototype,r.prototype=new i,r.prototype.constructor=r,r.prototype.clone=function(){var t=new r(this.title);return s("clone"),t.ctx=this.ctx,t.timeout(this.timeout()),t.slow(this.slow()),t.bail(this.bail()),t},r.prototype.timeout=function(t){return 0==arguments.length?this._timeout:("string"==typeof t&&(t=a(t)),s("timeout %d",t),this._timeout=parseInt(t,10),this)},r.prototype.slow=function(t){return 0===arguments.length?this._slow:("string"==typeof t&&(t=a(t)),s("slow %d",t),this._slow=t,this)},r.prototype.bail=function(t){return 0==arguments.length?this._bail:(s("bail %s",t),this._bail=t,this)},r.prototype.beforeAll=function(t){if(this.pending)return this;var e=new c('"before all" hook',t);return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.ctx=this.ctx,this._beforeAll.push(e),this.emit("beforeAll",e),this},r.prototype.afterAll=function(t){if(this.pending)return this;var e=new c('"after all" hook',t);return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.ctx=this.ctx,this._afterAll.push(e),this.emit("afterAll",e),this},r.prototype.beforeEach=function(t){if(this.pending)return this;var e=new c('"before each" hook',t);return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.ctx=this.ctx,this._beforeEach.push(e),this.emit("beforeEach",e),this},r.prototype.afterEach=function(t){if(this.pending)return this;var e=new c('"after each" hook',t);return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.ctx=this.ctx,this._afterEach.push(e),this.emit("afterEach",e),this},r.prototype.addSuite=function(t){return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.bail(this.bail()),this.suites.push(t),this.emit("suite",t),this},r.prototype.addTest=function(t){return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this.tests.push(t),this.emit("test",t),this},r.prototype.fullTitle=function(){if(this.parent){var t=this.parent.fullTitle();if(t)return t+" "+this.title}return this.title},r.prototype.total=function(){return u.reduce(this.suites,function(t,e){return t+e.total()},0)+this.tests.length},r.prototype.eachTest=function(t){return u.forEach(this.tests,t),u.forEach(this.suites,function(e){e.eachTest(t)}),this}}),t.register("test.js",function(t,e,n){function r(t,e){o.call(this,t,e),this.pending=!e,this.type="test"}function i(){}var o=n("./runnable");t.exports=r,i.prototype=o.prototype,r.prototype=new i,r.prototype.constructor=r}),t.register("utils.js",function(t,e,n){function r(t){return!~c.indexOf(t)}function i(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew *(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var o=n("browser/fs"),s=n("browser/path"),a=s.join,u=n("browser/debug")("mocha:watch"),c=["node_modules",".git"];e.escape=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.forEach=function(t,e,n){for(var r=0,i=t.length;i>r;r++)e.call(n,t[r],r)},e.indexOf=function(t,e,n){for(var r=n||0,i=t.length;i>r;r++)if(t[r]===e)return r;return-1},e.reduce=function(t,e,n){for(var r=n,i=0,o=t.length;o>i;i++)r=e(r,t[i],i,t);return r},e.filter=function(t,e){for(var n=[],r=0,i=t.length;i>r;r++){var o=t[r];e(o,r,t)&&n.push(o)}return n},e.keys=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e},e.watch=function(t,e){var n={interval:100};t.forEach(function(t){u("file %s",t),o.watchFile(t,n,function(n,r){r.mtime<n.mtime&&e(t)})})},e.files=function(t,n){return n=n||[],o.readdirSync(t).filter(r).forEach(function(r){r=a(t,r),o.statSync(r).isDirectory()?e.files(r,n):r.match(/\.(js|coffee|litcoffee|coffee.md)$/)&&n.push(r)}),n},e.slug=function(t){return t.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},e.clean=function(t){t=t.replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var n=t.match(/^\n?(\s*)/)[1],r=new RegExp("^"+n,"gm");return t=t.replace(r,""),e.trim(t)},e.escapeRegexp=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},e.parseQuery=function(t){return e.reduce(t.replace("?","").split("&"),function(t,e){var n=e.indexOf("="),r=e.slice(0,n),i=e.slice(++n);return t[r]=decodeURIComponent(i),t},{})},e.highlightTags=function(t){for(var e=document.getElementsByTagName(t),n=0,r=e.length;r>n;++n)e[n].innerHTML=i(e[n].innerHTML)}}),global=function(){return this}();var n=global.Date,r=global.setTimeout;global.setInterval,global.clearTimeout,global.clearInterval;var i={};i.exit=function(){},i.stdout={},i.removeListener=function(t){"uncaughtException"==t&&(global.onerror=function(){})},i.on=function(t,e){"uncaughtException"==t&&(global.onerror=function(t,n,r){e(new Error(t+" ("+n+":"+r+")"))})};var o,s=global.Mocha=t("mocha"),a=global.mocha=new s({reporter:"html"}),u=[];s.Runner.immediately=function(t){u.push(t),o||(o=r(e,0))},a.ui=function(t){return s.prototype.ui.call(this,t),this.suite.emit("pre-require",global,null,this),this},a.setup=function(t){"string"==typeof t&&(t={ui:t});for(var e in t)this[e](t[e]);return this},a.run=function(t){a.options,a.globals("location");var e=s.utils.parseQuery(global.location.search||"");return e.grep&&a.grep(e.grep),e.invert&&a.invert(),s.prototype.run.call(a,function(){global.document&&s.utils.highlightTags("code"),t&&t()})},s.process=i}(),define("lib/mocha",function(){}),!function(t,e,n){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&"object"==typeof define.amd?define("lib/chai",[],function(){return n()}):e[t]=n()}("chai",this,function(){function require(t){var e=require.resolve(t),n=require.modules[e];if(!n)throw new Error('failed to require "'+t+'"');return n.exports||(n.exports={},n.call(n.exports,n,n.exports,require.relative(e))),n.exports}return require.modules={},require.resolve=function(t){var e=t,n=t+".js",r=t+"/index.js";return require.modules[n]&&n||require.modules[r]&&r||e},require.register=function(t,e){require.modules[t]=e},require.relative=function(t){return function(e){if("."!=e.charAt(0))return require(e);var n=t.split("/"),r=e.split("/");n.pop();for(var i=0;i<r.length;i++){var o=r[i];".."==o?n.pop():"."!=o&&n.push(o)}return require(n.join("/"))}},require.alias=function(t,e){var n=require.modules[t];require.modules[e]=n},require.register("chai.js",function(t,e,n){var r=[],e=t.exports={};e.version="1.5.0",e.Assertion=n("./chai/assertion"),e.AssertionError=n("./chai/error");var i=n("./chai/utils");e.use=function(t){return~r.indexOf(t)||(t(this,i),r.push(t)),this};var o=n("./chai/core/assertions");e.use(o);var s=n("./chai/interface/expect");e.use(s);var a=n("./chai/interface/should");e.use(a);var u=n("./chai/interface/assert");e.use(u)}),require.register("chai/assertion.js",function(t,e,n){function r(t,e,n){s(this,"ssfi",n||arguments.callee),s(this,"object",t),s(this,"message",e)}var i=n("./error"),o=n("./utils"),s=o.flag;t.exports=r,r.includeStack=!1,r.showDiff=!0,r.addProperty=function(t,e){o.addProperty(this.prototype,t,e)},r.addMethod=function(t,e){o.addMethod(this.prototype,t,e)},r.addChainableMethod=function(t,e,n){o.addChainableMethod(this.prototype,t,e,n)},r.overwriteProperty=function(t,e){o.overwriteProperty(this.prototype,t,e)},r.overwriteMethod=function(t,e){o.overwriteMethod(this.prototype,t,e)},r.prototype.assert=function(t,e,n,a,u,c){var l=o.test(this,arguments);if(!0!==c&&(c=!1),!0!==r.showDiff&&(c=!1),!l){var e=o.getMessage(this,arguments),f=o.getActual(this,arguments);throw new i({message:e,actual:f,expected:a,stackStartFunction:r.includeStack?this.assert:s(this,"ssfi"),showDiff:c})}},Object.defineProperty(r.prototype,"_obj",{get:function(){return s(this,"object")},set:function(t){s(this,"object",t)}})}),require.register("chai/core/assertions.js",function(t){t.exports=function(t,e){function n(t,n){n&&b(this,"message",n),t=t.toLowerCase();var r=b(this,"object"),i=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(r),"expected #{this} to be "+i+t,"expected #{this} not to be "+i+t)}function r(){b(this,"contains",!0)}function i(t,n){n&&b(this,"message",n);var r=b(this,"object");this.assert(~r.indexOf(t),"expected #{this} to include "+e.inspect(t),"expected #{this} to not include "+e.inspect(t))}function o(){var t=b(this,"object"),e=Object.prototype.toString.call(t);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function s(t,e){e&&b(this,"message",e);var n=b(this,"object");return b(this,"deep")?this.eql(t):(this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0),void 0)}function a(t,n){n&&b(this,"message",n),this.assert(e.eql(t,b(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function u(t,e){e&&b(this,"message",e);var n=b(this,"object");if(b(this,"doLength")){new y(n,e).to.have.property("length");var r=n.length;this.assert(r>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,r)}else this.assert(n>t,"expected #{this} to be above "+t,"expected #{this} to be at most "+t)}function c(t,e){e&&b(this,"message",e);var n=b(this,"object");if(b(this,"doLength")){new y(n,e).to.have.property("length");var r=n.length;this.assert(r>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,r)}else this.assert(n>=t,"expected #{this} to be at least "+t,"expected #{this} to be below "+t)}function l(t,e){e&&b(this,"message",e);var n=b(this,"object");if(b(this,"doLength")){new y(n,e).to.have.property("length");var r=n.length;this.assert(t>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,r)}else this.assert(t>n,"expected #{this} to be below "+t,"expected #{this} to be at least "+t)}function f(t,e){e&&b(this,"message",e);var n=b(this,"object");if(b(this,"doLength")){new y(n,e).to.have.property("length");var r=n.length;this.assert(t>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,r)}else this.assert(t>=n,"expected #{this} to be at most "+t,"expected #{this} to be above "+t)}function p(t,n){n&&b(this,"message",n);var r=e.getName(t);this.assert(b(this,"object")instanceof t,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function h(t,n){n&&b(this,"message",n);var r=b(this,"object");this.assert(r.hasOwnProperty(t),"expected #{this} to have own property "+e.inspect(t),"expected #{this} to not have own property "+e.inspect(t))}function d(){b(this,"doLength",!0)}function g(t,e){e&&b(this,"message",e);var n=b(this,"object");new y(n,e).to.have.property("length");var r=n.length;this.assert(r==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,r)}function v(t){var n,r=b(this,"object"),i=!0;if(t=t instanceof Array?t:Array.prototype.slice.call(arguments),!t.length)throw new Error("keys required");var o=Object.keys(r),s=t.length;if(i=t.every(function(t){return~o.indexOf(t)}),b(this,"negate")||b(this,"contains")||(i=i&&t.length==o.length),s>1){t=t.map(function(t){return e.inspect(t)});var a=t.pop();n=t.join(", ")+", and "+a}else n=e.inspect(t[0]);n=(s>1?"keys ":"key ")+n,n=(b(this,"contains")?"contain ":"have ")+n,this.assert(i,"expected #{this} to "+n,"expected #{this} to not "+n)}function m(t,n,r){r&&b(this,"message",r);var i=b(this,"object");new y(i,r).is.a("function");var o=!1,s=null,a=null,u=null;0===arguments.length?(n=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)?(n=t,t=null):t&&t instanceof Error?(s=t,t=null,n=null):"function"==typeof t?a=(new t).name:t=null;try{i()}catch(c){if(s)return this.assert(c===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s,c),this;if(t&&(this.assert(c instanceof t,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,c),!n))return this;var l="object"===e.type(c)&&"message"in c?c.message:""+c;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),this;o=!0,u=c}var f="",p=null!==a?a:s?"#{exp}":"an error";o&&(f=" but #{act} was thrown"),this.assert(o===!0,"expected #{this} to throw "+p+f,"expected #{this} to not throw "+p+f,s,u)}var y=t.Assertion,b=(Object.prototype.toString,e.flag);["to","be","been","is","and","have","with","that","at","of"].forEach(function(t){y.addProperty(t,function(){return this})}),y.addProperty("not",function(){b(this,"negate",!0)}),y.addProperty("deep",function(){b(this,"deep",!0)}),y.addChainableMethod("an",n),y.addChainableMethod("a",n),y.addChainableMethod("include",i,r),y.addChainableMethod("contain",i,r),y.addProperty("ok",function(){this.assert(b(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),y.addProperty("true",function(){this.assert(!0===b(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),y.addProperty("false",function(){this.assert(!1===b(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),y.addProperty("null",function(){this.assert(null===b(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),y.addProperty("undefined",function(){this.assert(void 0===b(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),y.addProperty("exist",function(){this.assert(null!=b(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),y.addProperty("empty",function(){var t=b(this,"object"),e=t;Array.isArray(t)||"string"==typeof object?e=t.length:"object"==typeof t&&(e=Object.keys(t).length),this.assert(!e,"expected #{this} to be empty","expected #{this} not to be empty")}),y.addProperty("arguments",o),y.addProperty("Arguments",o),y.addMethod("equal",s),y.addMethod("equals",s),y.addMethod("eq",s),y.addMethod("eql",a),y.addMethod("eqls",a),y.addMethod("above",u),y.addMethod("gt",u),y.addMethod("greaterThan",u),y.addMethod("least",c),y.addMethod("gte",c),y.addMethod("below",l),y.addMethod("lt",l),y.addMethod("lessThan",l),y.addMethod("most",f),y.addMethod("lte",f),y.addMethod("within",function(t,e,n){n&&b(this,"message",n);var r=b(this,"object"),i=t+".."+e;if(b(this,"doLength")){new y(r,n).to.have.property("length");var o=r.length;this.assert(o>=t&&e>=o,"expected #{this} to have a length within "+i,"expected #{this} to not have a length within "+i)}else this.assert(r>=t&&e>=r,"expected #{this} to be within "+i,"expected #{this} to not be within "+i)}),y.addMethod("instanceof",p),y.addMethod("instanceOf",p),y.addMethod("property",function(t,n,r){r&&b(this,"message",r);var i=b(this,"deep")?"deep property ":"property ",o=b(this,"negate"),s=b(this,"object"),a=b(this,"deep")?e.getPathValue(t,s):s[t];if(o&&void 0!==n){if(void 0===a)throw r=null!=r?r+": ":"",new Error(r+e.inspect(s)+" has no "+i+e.inspect(t))}else this.assert(void 0!==a,"expected #{this} to have a "+i+e.inspect(t),"expected #{this} to not have "+i+e.inspect(t));void 0!==n&&this.assert(n===a,"expected #{this} to have a "+i+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have a "+i+e.inspect(t)+" of #{act}",n,a),b(this,"object",a)}),y.addMethod("ownProperty",h),y.addMethod("haveOwnProperty",h),y.addChainableMethod("length",g,d),y.addMethod("lengthOf",g,d),y.addMethod("match",function(t,e){e&&b(this,"message",e);var n=b(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}),y.addMethod("string",function(t,n){n&&b(this,"message",n);var r=b(this,"object");new y(r,n).is.a("string"),this.assert(~r.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),y.addMethod("keys",v),y.addMethod("key",v),y.addMethod("throw",m),y.addMethod("throws",m),y.addMethod("Throw",m),y.addMethod("respondTo",function(t,n){n&&b(this,"message",n);var r=b(this,"object"),i=b(this,"itself"),o="function"!==e.type(r)||i?r[t]:r.prototype[t];this.assert("function"==typeof o,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}),y.addProperty("itself",function(){b(this,"itself",!0)}),y.addMethod("satisfy",function(t,n){n&&b(this,"message",n);var r=b(this,"object");this.assert(t(r),"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),this.negate?!1:!0,t(r))}),y.addMethod("closeTo",function(t,e,n){n&&b(this,"message",n);var r=b(this,"object");this.assert(Math.abs(r-t)<=e,"expected #{this} to be close to "+t+" +/- "+e,"expected #{this} not to be close to "+t+" +/- "+e)})}}),require.register("chai/error.js",function(t){function e(t){if(t=t||{},this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,this.showDiff=t.showDiff,t.stackStartFunction&&Error.captureStackTrace){var e=t.stackStartFunction;Error.captureStackTrace(this,e)}}t.exports=e,e.prototype=Object.create(Error.prototype),e.prototype.name="AssertionError",e.prototype.constructor=e,e.prototype.toString=function(){return this.message}}),require.register("chai/interface/assert.js",function(module,exports,require){module.exports=function(chai,util){var Assertion=chai.Assertion,flag=util.flag,assert=chai.assert=function(t,e){var n=new Assertion(null);n.assert(t,e,"[ negation message unavailable ]")};assert.fail=function(t,e,n,r){throw new chai.AssertionError({actual:t,expected:e,message:n,operator:r,stackStartFunction:assert.fail})},assert.ok=function(t,e){new Assertion(t,e).is.ok},assert.equal=function(t,e,n){var r=new Assertion(t,n);r.assert(e==flag(r,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t)},assert.notEqual=function(t,e,n){var r=new Assertion(t,n);r.assert(e!=flag(r,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t)},assert.strictEqual=function(t,e,n){new Assertion(t,n).to.equal(e)},assert.notStrictEqual=function(t,e,n){new Assertion(t,n).to.not.equal(e)},assert.deepEqual=function(t,e,n){new Assertion(t,n).to.eql(e)},assert.notDeepEqual=function(t,e,n){new Assertion(t,n).to.not.eql(e)},assert.isTrue=function(t,e){new Assertion(t,e).is["true"]},assert.isFalse=function(t,e){new Assertion(t,e).is["false"]},assert.isNull=function(t,e){new Assertion(t,e).to.equal(null)},assert.isNotNull=function(t,e){new Assertion(t,e).to.not.equal(null)},assert.isUndefined=function(t,e){new Assertion(t,e).to.equal(void 0)},assert.isDefined=function(t,e){new Assertion(t,e).to.not.equal(void 0)
},assert.isFunction=function(t,e){new Assertion(t,e).to.be.a("function")},assert.isNotFunction=function(t,e){new Assertion(t,e).to.not.be.a("function")},assert.isObject=function(t,e){new Assertion(t,e).to.be.a("object")},assert.isNotObject=function(t,e){new Assertion(t,e).to.not.be.a("object")},assert.isArray=function(t,e){new Assertion(t,e).to.be.an("array")},assert.isNotArray=function(t,e){new Assertion(t,e).to.not.be.an("array")},assert.isString=function(t,e){new Assertion(t,e).to.be.a("string")},assert.isNotString=function(t,e){new Assertion(t,e).to.not.be.a("string")},assert.isNumber=function(t,e){new Assertion(t,e).to.be.a("number")},assert.isNotNumber=function(t,e){new Assertion(t,e).to.not.be.a("number")},assert.isBoolean=function(t,e){new Assertion(t,e).to.be.a("boolean")},assert.isNotBoolean=function(t,e){new Assertion(t,e).to.not.be.a("boolean")},assert.typeOf=function(t,e,n){new Assertion(t,n).to.be.a(e)},assert.notTypeOf=function(t,e,n){new Assertion(t,n).to.not.be.a(e)},assert.instanceOf=function(t,e,n){new Assertion(t,n).to.be.instanceOf(e)},assert.notInstanceOf=function(t,e,n){new Assertion(t,n).to.not.be.instanceOf(e)},assert.include=function(t,e,n){var r=new Assertion(t,n);Array.isArray(t)?r.to.include(e):"string"==typeof t&&r.to.contain.string(e)},assert.match=function(t,e,n){new Assertion(t,n).to.match(e)},assert.notMatch=function(t,e,n){new Assertion(t,n).to.not.match(e)},assert.property=function(t,e,n){new Assertion(t,n).to.have.property(e)},assert.notProperty=function(t,e,n){new Assertion(t,n).to.not.have.property(e)},assert.deepProperty=function(t,e,n){new Assertion(t,n).to.have.deep.property(e)},assert.notDeepProperty=function(t,e,n){new Assertion(t,n).to.not.have.deep.property(e)},assert.propertyVal=function(t,e,n,r){new Assertion(t,r).to.have.property(e,n)},assert.propertyNotVal=function(t,e,n,r){new Assertion(t,r).to.not.have.property(e,n)},assert.deepPropertyVal=function(t,e,n,r){new Assertion(t,r).to.have.deep.property(e,n)},assert.deepPropertyNotVal=function(t,e,n,r){new Assertion(t,r).to.not.have.deep.property(e,n)},assert.lengthOf=function(t,e,n){new Assertion(t,n).to.have.length(e)},assert.Throw=function(t,e,n,r){("string"==typeof e||e instanceof RegExp)&&(n=e,e=null),new Assertion(t,r).to.Throw(e,n)},assert.doesNotThrow=function(t,e,n){"string"==typeof e&&(n=e,e=null),new Assertion(t,n).to.not.Throw(e)},assert.operator=function(val,operator,val2,msg){if(!~["==","===",">",">=","<","<=","!=","!=="].indexOf(operator))throw new Error('Invalid operator "'+operator+'"');var test=new Assertion(eval(val+operator+val2),msg);test.assert(!0===flag(test,"object"),"expected "+util.inspect(val)+" to be "+operator+" "+util.inspect(val2),"expected "+util.inspect(val)+" to not be "+operator+" "+util.inspect(val2))},assert.closeTo=function(t,e,n,r){new Assertion(t,r).to.be.closeTo(e,n)},assert.ifError=function(t,e){new Assertion(t,e).to.not.be.ok},function t(e,n){return assert[n]=assert[e],t}("Throw","throw")("Throw","throws")}}),require.register("chai/interface/expect.js",function(t){t.exports=function(t){t.expect=function(e,n){return new t.Assertion(e,n)}}}),require.register("chai/interface/should.js",function(t){t.exports=function(t){function e(){Object.defineProperty(Object.prototype,"should",{set:function(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})},get:function(){return this instanceof String||this instanceof Number?new n(this.constructor(this)):this instanceof Boolean?new n(1==this):new n(this)},configurable:!0});var t={};return t.equal=function(t,e,r){new n(t,r).to.equal(e)},t.Throw=function(t,e,r,i){new n(t,i).to.Throw(e,r)},t.exist=function(t,e){new n(t,e).to.exist},t.not={},t.not.equal=function(t,e,r){new n(t,r).to.not.equal(e)},t.not.Throw=function(t,e,r,i){new n(t,i).to.not.Throw(e,r)},t.not.exist=function(t,e){new n(t,e).to.not.exist},t["throw"]=t.Throw,t.not["throw"]=t.not.Throw,t}var n=t.Assertion;t.should=e,t.Should=e}}),require.register("chai/utils/addChainableMethod.js",function(t,e,n){var r=n("./transferFlags"),i="__proto__"in Object,o=/^(?:length|name|arguments|caller)$/;t.exports=function(t,e,n,s){"function"!=typeof s&&(s=function(){}),Object.defineProperty(t,e,{get:function(){s.call(this);var e=function(){var t=n.apply(this,arguments);return void 0===t?this:t};if(i)e.__proto__=this;else{var a=Object.getOwnPropertyNames(t);a.forEach(function(n){if(!o.test(n)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r)}})}return r(this,e),e},configurable:!0})}}),require.register("chai/utils/addMethod.js",function(t){t.exports=function(t,e,n){t[e]=function(){var t=n.apply(this,arguments);return void 0===t?this:t}}}),require.register("chai/utils/addProperty.js",function(t){t.exports=function(t,e,n){Object.defineProperty(t,e,{get:function(){var t=n.call(this);return void 0===t?this:t},configurable:!0})}}),require.register("chai/utils/eql.js",function(t,e,n){function r(t,e,n){if(t===e)return!0;if(a.isBuffer(t)&&a.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t===e:s(t,e,n)}function i(t){return null===t||void 0===t}function o(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function s(t,e,n){if(i(t)||i(e))return!1;if(t.prototype!==e.prototype)return!1;var s;if(n){for(s=0;s<n.length;s++)if(n[s][0]===t&&n[s][1]===e||n[s][0]===e&&n[s][1]===t)return!0}else n=[];if(o(t))return o(e)?(t=pSlice.call(t),e=pSlice.call(e),r(t,e,n)):!1;try{var a,c=u(t),l=u(e)}catch(f){return!1}if(c.length!=l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!=l[s])return!1;for(n.push([t,e]),s=c.length-1;s>=0;s--)if(a=c[s],!r(t[a],e[a],n))return!1;return!0}t.exports=r;var a,u=n("./getEnumerableProperties");try{a=n("buffer").Buffer}catch(c){a={isBuffer:function(){return!1}}}}),require.register("chai/utils/flag.js",function(t){t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));return 3!==arguments.length?r[e]:(r[e]=n,void 0)}}),require.register("chai/utils/getActual.js",function(t){t.exports=function(t,e){var n=e[4];return"undefined"!=typeof n?n:t._obj}}),require.register("chai/utils/getEnumerableProperties.js",function(t){t.exports=function(t){var e=[];for(var n in t)e.push(n);return e}}),require.register("chai/utils/getMessage.js",function(t,e,n){var r=n("./flag"),i=n("./getActual"),o=(n("./inspect"),n("./objDisplay"));t.exports=function(t,e){var n=r(t,"negate"),s=r(t,"object"),a=e[3],u=i(t,e),c=n?e[2]:e[1],l=r(t,"message");return c=c||"",c=c.replace(/#{this}/g,o(s)).replace(/#{act}/g,o(u)).replace(/#{exp}/g,o(a)),l?l+": "+c:c}}),require.register("chai/utils/getName.js",function(t){t.exports=function(t){if(t.name)return t.name;var e=/^\s?function ([^(]*)\(/.exec(t);return e&&e[1]?e[1]:""}}),require.register("chai/utils/getPathValue.js",function(t){function e(t){var e=t.replace(/\[/g,".["),n=e.match(/(\\\.|[^.]+?)+/g);return n.map(function(t){var e=/\[(\d+)\]$/,n=e.exec(t);return n?{i:parseFloat(n[1])}:{p:t}})}function n(t,e){for(var n,r=e,i=0,o=t.length;o>i;i++){var s=t[i];r?("undefined"!=typeof s.p?r=r[s.p]:"undefined"!=typeof s.i&&(r=r[s.i]),i==o-1&&(n=r)):n=void 0}return n}t.exports=function(t,r){var i=e(t);return n(i,r)}}),require.register("chai/utils/getProperties.js",function(t){t.exports=function(){function t(t){-1===e.indexOf(t)&&e.push(t)}for(var e=Object.getOwnPropertyNames(subject),n=Object.getPrototypeOf(subject);null!==n;)Object.getOwnPropertyNames(n).forEach(t),n=Object.getPrototypeOf(n);return e}}),require.register("chai/utils/index.js",function(t,e,n){var e=t.exports={};e.test=n("./test"),e.type=n("./type"),e.getMessage=n("./getMessage"),e.getActual=n("./getActual"),e.inspect=n("./inspect"),e.objDisplay=n("./objDisplay"),e.flag=n("./flag"),e.transferFlags=n("./transferFlags"),e.eql=n("./eql"),e.getPathValue=n("./getPathValue"),e.getName=n("./getName"),e.addProperty=n("./addProperty"),e.addMethod=n("./addMethod"),e.overwriteProperty=n("./overwriteProperty"),e.overwriteMethod=n("./overwriteMethod"),e.addChainableMethod=n("./addChainableMethod")}),require.register("chai/utils/inspect.js",function(t,e,n){function r(t,e,n){var r={showHidden:e,seen:[],stylize:function(t){return t}};return i(r,t,"undefined"==typeof n?2:n)}function i(t,n,r){if(n&&"function"==typeof n.inspect&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n))return n.inspect(r);var i=o(t,n);if(i)return i;if(b(n))return y(n);var d=m(n),w=t.showHidden?v(n):d;if(0===w.length||h(n)&&(1===w.length&&"stack"===w[0]||2===w.length&&"description"===w[0]&&"stack"===w[1])){if("function"==typeof n){var x=g(n),j=x?": "+x:"";return t.stylize("[Function"+j+"]","special")}if(f(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(p(n))return t.stylize(Date.prototype.toUTCString.call(n),"date");if(h(n))return s(n)}var T="",E=!1,k=["{","}"];if(l(n)&&(E=!0,k=["[","]"]),"function"==typeof n){var x=g(n),j=x?": "+x:"";T=" [Function"+j+"]"}if(f(n)&&(T=" "+RegExp.prototype.toString.call(n)),p(n)&&(T=" "+Date.prototype.toUTCString.call(n)),h(n))return s(n);if(0===w.length&&(!E||0==n.length))return k[0]+T+k[1];if(0>r)return f(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var S;return S=E?a(t,n,r,d,w):w.map(function(e){return u(t,n,r,d,e,E)}),t.seen.pop(),c(S,T,k)}function o(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}return null===e?t.stylize("null","null"):void 0}function s(t){return"["+Error.prototype.toString.call(t)+"]"}function a(t,e,n,r,i){for(var o=[],s=0,a=e.length;a>s;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(u(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(u(t,e,n,r,i,!0))}),o}function u(t,e,n,r,o,s){var a,u;if(e.__lookupGetter__&&(e.__lookupGetter__(o)?u=e.__lookupSetter__(o)?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.__lookupSetter__(o)&&(u=t.stylize("[Setter]","special"))),r.indexOf(o)<0&&(a="["+o+"]"),u||(t.seen.indexOf(e[o])<0?(u=null===n?i(t,e[o],null):i(t,e[o],n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function c(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function l(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===d(t)}function f(t){return"object"==typeof t&&"[object RegExp]"===d(t)}function p(t){return"object"==typeof t&&"[object Date]"===d(t)}function h(t){return"object"==typeof t&&"[object Error]"===d(t)}function d(t){return Object.prototype.toString.call(t)}var g=n("./getName"),v=n("./getProperties"),m=n("./getEnumerableProperties");t.exports=r;var y=function(t){if("outerHTML"in t)return t.outerHTML;var e="http://www.w3.org/1999/xhtml",n=document.createElementNS(e,"_");(window.HTMLElement||window.Element).prototype;var r,i=new XMLSerializer;return document.xmlVersion?i.serializeToString(t):(n.appendChild(t.cloneNode(!1)),r=n.innerHTML.replace("><",">"+t.innerHTML+"<"),n.innerHTML="",r)},b=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}}),require.register("chai/utils/objDisplay.js",function(t,e,n){var r=n("./inspect");t.exports=function(t){var e=r(t),n=Object.prototype.toString.call(t);if(e.length>=40){if("[object Function]"===n)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+t.length+") ]";if("[object Object]"===n){var i=Object.keys(t),o=i.length>2?i.splice(0,2).join(", ")+", ...":i.join(", ");return"{ Object ("+o+") }"}return e}return e}}),require.register("chai/utils/overwriteMethod.js",function(t){t.exports=function(t,e,n){var r=t[e],i=function(){return this};r&&"function"==typeof r&&(i=r),t[e]=function(){var t=n(i).apply(this,arguments);return void 0===t?this:t}}}),require.register("chai/utils/overwriteProperty.js",function(t){t.exports=function(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e),i=function(){};r&&"function"==typeof r.get&&(i=r.get),Object.defineProperty(t,e,{get:function(){var t=n(i).call(this);return void 0===t?this:t},configurable:!0})}}),require.register("chai/utils/test.js",function(t,e,n){var r=n("./flag");t.exports=function(t,e){var n=r(t,"negate"),i=e[0];return n?!i:i}}),require.register("chai/utils/transferFlags.js",function(t){t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var i in r)(n||"object"!==i&&"ssfi"!==i&&"message"!=i)&&(e.__flags[i]=r[i])}}),require.register("chai/utils/type.js",function(t){var e={"[object Arguments]":"arguments","[object Array]":"array","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object RegExp]":"regexp","[object String]":"string"};t.exports=function(t){var n=Object.prototype.toString.call(t);return e[n]?e[n]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}}),require.alias("./chai.js","chai"),require("chai")}),define("lib/text!view/template/test-runner.tpl",[],function(){return'<div class="test-runner">\r\n<div><button id="{{=it.runTestBtnId}}" class="btn-primary">Run Tests</button></div>\r\n<div class="code-editor" id="{{=it.editorId}}"></div>\r\n<div id="mocha"></div>\r\n</div>\r\n'}),define("lib/text!view/template/sample-script.txt",[],function(){return"describe('DOM', function () {\n    function reverse() {\n        $('#block').animate({rotateZ: '-45deg'}, 500, 'ease-out');\n    }\n\n    it('should rotate the block', function() {\n        $('#block').animate({\n            rotateZ: '45deg'\n            }, {\n                duration: 500,\n                easing: 'ease-out',\n                complete: reverse\n            }\n        );\n    });\n});\n\n// ctrl + space for autocomplete\n\n// arrows next to the line numbers can collapse code blocks"}),define("view/code-editor",["exports","aceMain","aceLanguage","lib/doT","lib/text!view/template/test-runner.tpl","lib/text!view/template/sample-script.txt"],function(exports,ace,aceLanguage,doT,testRunnerTpl,sampleScriptText){exports.create=function(editorId){var templateFn=doT.template(testRunnerTpl),testRunnerHtml=templateFn({editorId:editorId||"test-anywhere-code-editor",runTestBtnId:"run-tests"}),editor,$testRunner=$(testRunnerHtml),$mocha=$testRunner.find("#mocha");$testRunner.find("#run-tests").on("click",function(){$mocha.html(""),mocha.suite.suites=[];var script=editor.getValue();eval(script),mocha.run()}),$("body").append($testRunner),ace.require("ace/ext/language_tools"),editor=ace.edit("test-anywhere-code-editor"),editor.setTheme("ace/theme/chrome"),editor.session.setMode("ace/mode/javascript"),editor.setOptions({enableBasicAutocompletion:!0}),editor.setValue(sampleScriptText),editor.gotoLine(0)}}),define("view/all-views",["require","exports","module","view/code-editor"],function(t,e){var n=t("view/code-editor");e.init=function(){n.create()}}),require(["lib/text","lib/zepto","lib/doT","lib/mocha","aceMain"],function(){window.mocha.ui("bdd"),window.mocha.reporter("html"),require(["lib/chai","view/all-views"],function(t,e){t.should(),e.init()})}),define("app",function(){});